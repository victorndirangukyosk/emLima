/*!
 * kwikbasket
 * KwikBasket Landing Page
 * 
 * @author KwikBasket
 * @version 1.0.0
 * Copyright 2020. MIT licensed.
 */
!function(e,t,a,s){"use strict";e(function(){function s(t){var i=Math.floor(t/60),r=t%60;return i=i<10?"0"+i:i,r=r<10?"0"+r:r,e("#re_gen_qrcode").hide(),e("#qrcode_timer").show(),a.getElementById("qrcode_timer").innerHTML=i+":"+r,t-=1,t>=0&&o?void setTimeout(function(){s(t)},1e3):(console.log("TIMER"),e("#re_gen_qrcode").show(),e("#qrcode_timer").hide(),void(o&&alert("Timeout for otp")))}e(a).scroll(function(){var t=e(".fixed-top");t.toggleClass("scrolled",e(this).scrollTop()>t.height())}),e(".nav-link, .navbar-brand").click(function(){var t=e(this).attr("href");e("html, body").animate({scrollTop:e(t).offset().top},700)}),ScrollOut(),gsap.to(".anim-from-top",{opacity:1,y:0,duration:.5,ease:"elastic"}),gsap.to(".anim-from-bottom",{y:0,duration:.5});var o=!0;e(a).delegate("#login-button, #re_qrcode","click",function(t){t.preventDefault();const a=e("#login-button"),o=e("#login-email").val(),i=e("#login-password").val();o.length>0&&i.length>0&&(a.text("PLEASE WAIT"),a.toggleClass("disabled"),e.ajax({url:"index.php?path=account/login/beforeLogin",type:"post",data:{email:o,password:i},dataType:"json",success:function(t){console.log(t),1==t.status?null!=t.two_factor&&(e("#creds").hide(),e("#qrcode").show(),e("#qrcode_img").empty(),e("#qrcode_img").append("<img width='100' height='100' src='"+t.two_factor.qr_code+"'/>"),s(60),console.log(t.two_factor.qr_code),a.text("LOGIN")):(iziToast.error({position:"topRight",message:t.error_warning}),a.text("LOGIN"),a.toggleClass("disabled"))}}))}),e(a).delegate("#qr-login-button","click",function(a){a.preventDefault();const s=e("#login-button"),o=e("#login-email").val(),i=e("#login-password").val(),r=e("#secret_code").val(),n=e("#one_time_code").val();o.length>0&&i.length>0&&r.length>0&&n.length>0?(s.text("PLEASE WAIT"),s.toggleClass("disabled"),e.ajax({url:"index.php?path=account/login/login",type:"post",data:{email:o,password:i,secret_code:r,one_time_code:n},dataType:"json",success:function(a){a.status?(e("#re_gen_qrcode").hide(),e("#qrcode_timer").hide(),null!=a.redirect?t.location.href=a.redirect:"1"==a.temppassword?(location=e(".base_url").attr("href")+"/changepass",console.log(e(".base_url"))):location=e(".base_url").attr("href")):(iziToast.error({position:"topRight",message:a.error_warning}),s.text("LOGIN"),s.toggleClass("disabled"))}})):iziToast.warning({position:"topRight",message:"Please enter your secret code and one time code"})}),e("#register-phone").keyup(function(e){/\D/g.test(this.value)&&(this.value=this.value.replace(/\D/g,""))}),e(a).delegate("#register-button","click",function(t){t.preventDefault();const a=e("#register-first-name").val(),s=e("#register-last-name").val(),o=e("#register-email").val(),i=e("#register-phone").val(),r=e("#register-company-name").val(),n=e("#register-company-address").val(),l=e("#register-business-type").val(),c=e("#register-building-name").val(),g=e("#register-address-line").val(),p=e("#register-location").val(),d=e("#register-password").val(),m=e("#register-password-confirm").val(),u=e("#registration-view"),h=e("#otp-view"),f=e("#register-button"),v=e("#register-form")[0],_=v.reportValidity();_&&(m!==d?iziToast.warning({position:"topRight",message:"Passwords do no match"}):""==grecaptcha.getResponse()?iziToast.warning({position:"topRight",message:"Please complete captcha"}):(f.text("PLEASE WAIT"),f.toggleClass("disabled"),e.ajax({url:"index.php?path=account/register/register_send_otp",type:"POST",dataType:"json",data:{firstname:a,lastname:s,email:o,telephone:i,company_name:r,company_address:n,customer_group_id:l,house_building:c,address:g,location:p,password:d,confirm:m},success:function(e){f.text("SIGN UP"),f.toggleClass("disabled"),e.status?(iziToast.success({position:"topRight",message:e.success_message}),u.hide(),h.show()):iziToast.warning({position:"topRight",title:"Oops",message:e.error_warning})}})))}),e(a).delegate("#otp-verify-button","click",function(a){a.preventDefault();const s=e("#register-first-name").val(),o=e("#register-last-name").val(),i=e("#register-email").val(),r=e("#register-phone").val(),n=e("#register-company-name").val(),l=e("#register-company-address").val(),c=e("#register-business-type").val(),g=e("#register-building-name").val(),p=e("#register-address-line").val(),d=e("#register-location").val(),m=e("#register-password").val(),u=e("#register-password-confirm").val(),h=e("#otp-value").val(),f=e("#otp-verify-button");h.length>3?(f.text("PLEASE WAIT"),f.toggleClass("disabled"),e.ajax({url:"index.php?path=account/register/register_verify_otp",type:"POST",dataType:"json",data:{firstname:s,lastname:o,email:i,telephone:r,company_name:n,company_address:l,customer_group_id:c,house_building:g,address:p,location:d,password:m,confirm:u,signup_otp:h},success:function(a){f.text("VERIFY"),f.toggleClass("disabled"),e("#otp-value").val(""),a.status?(iziToast.success({timeout:!1,position:"topRight",message:a.success_message}),setTimeout(function(){t.location=e(".base_url").attr("href")},3e3)):iziToast.warning({position:"topRight",message:"We couldn't verify your account. Please check the OTP"})}})):iziToast.error({position:"topRight",message:"Please enter a valid OTP"})}),e(a).delegate("#careers-submit-button","click",function(t){t.preventDefault();const a=e("#careers-first-name").val(),s=e("#careers-last-name").val(),o=e("#careers-designation").val(),i=e("#careers-about-yourself").val(),r=e("#careers-form")[0],n=r.reportValidity(),l=e("#careers-submit-button");n&&(""==grecaptcha.getResponse()?iziToast.warning({position:"topRight",message:"Please complete captcha"}):(l.text("PLEASE WAIT"),l.toggleClass("disabled"),e.ajax({url:"index.php?path=common/home/savecareers",type:"POST",dataType:"json",data:{firstname:a,lastname:s,role:o,yourself:i},success:function(t){l.toggleClass("disabled"),t.status?(iziToast.success({position:"topRight",message:t.success_message}),e("#careers-form")[0].reset()):iziToast.warning({position:"topRight",title:"Oops",message:t.error_warning})}})))}),e(a).delegate("#partner-registration-button","click",function(t){t.preventDefault();const a=e("#partner-first-name").val(),s=e("#partner-last-name").val(),o=e("#partner-designation").val(),i=e("#partner-company-name").val(),r=e("#partner-email").val(),n=e("#partner-phone").val(),l=e("#partner-description").val(),c=e("#partner-registration-form")[0],g=c.reportValidity(),p=e("#partner-registration-button");g&&(""==grecaptcha.getResponse()?iziToast.warning({position:"topRight",message:"Please complete captcha"}):(p.text("PLEASE WAIT"),p.toggleClass("disabled"),e.ajax({url:"index.php?path=common/home/savepartner",type:"POST",dataType:"json",data:{firstname:a,lastname:s,designation:o,company:i,email:r,phone:n,description:l},success:function(t){p.toggleClass("disabled"),t.status?(iziToast.success({position:"topRight",message:t.success_message}),e("#partner-registration-form")[0].reset()):iziToast.warning({position:"topRight",title:"Oops",message:t.error_warning})}})))}),e("#forgot-password-btn").click(function(t){t.preventDefault(),e("#login-view").hide(),e("#forgot-password-view").show()}),e("#password-reset-button").click(function(t){t.preventDefault();const a=e("#reset-password-email").val(),s=e("#password-reset-button");0==a.length?iziToast.warning({position:"topRight",message:"Please enter your account email"}):(s.text("PLEASE WAIT"),s.toggleClass("disabled"),e.ajax({url:"index.php?path=account/forgotten",type:"POST",dataType:"json",data:{email:a},success:function(t){s.text("RESET PASSWORD"),s.toggleClass("disabled"),e("#reset-password-email").val(""),t.status?iziToast.success({timeout:!1,position:"topRight",message:t.text_message}):iziToast.warning({position:"topRight",message:"We couldn't find an account with that email address"})}}))}),e("#farmer-register-button").click(function(t){t.preventDefault();e("#farmer-first-name").val(),e("#farmer-last-name").val(),e("#farmer-email").val(),e("#farmer-phone").val(),e("#farmer-type").val(),e("#farmer-location").val(),e("farmer-produce-grown").val(),e("#farmer-register-button");""==grecaptcha.getResponse()?iziToast.warning({position:"topRight",message:"Please complete captcha"}):e("#farmer-registration-form")[0].reportValidity()&&(iziToast.success({position:"topRight",message:"Thanks for registering. We'll get in touch"}),e("#farmer-registration-form")[0].reset())})})}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwidGltZXIiLCJyZW1haW5pbmciLCJtIiwiTWF0aCIsImZsb29yIiwicyIsImhpZGUiLCJzaG93IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJ0aW1lck9uIiwic2V0VGltZW91dCIsImNvbnNvbGUiLCJsb2ciLCJhbGVydCIsInNjcm9sbCIsIiRuYXYiLCJ0b2dnbGVDbGFzcyIsInRoaXMiLCJzY3JvbGxUb3AiLCJoZWlnaHQiLCJjbGljayIsInNlY3Rpb25UbyIsImF0dHIiLCJhbmltYXRlIiwib2Zmc2V0IiwidG9wIiwiU2Nyb2xsT3V0IiwiZ3NhcCIsInRvIiwib3BhY2l0eSIsInkiLCJkdXJhdGlvbiIsImVhc2UiLCJkZWxlZ2F0ZSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImxvZ2luQnV0dG9uIiwiZW1haWwiLCJ2YWwiLCJwYXNzd29yZCIsImxlbmd0aCIsInRleHQiLCJhamF4IiwidXJsIiwidHlwZSIsImRhdGEiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJqc29uIiwiZW1wdHkiLCJhcHBlbmQiLCJpemlUb2FzdCIsImVycm9yIiwicG9zaXRpb24iLCJtZXNzYWdlIiwic2VjcmV0X2NvZGUiLCJvbmVfdGltZV9jb2RlIiwibG9jYXRpb24iLCJocmVmIiwid2FybmluZyIsImtleXVwIiwidGVzdCIsInZhbHVlIiwicmVwbGFjZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwicGhvbmUiLCJjb21wYW55TmFtZSIsImNvbXBhbnlBZGRyZXNzIiwiYnVzaW5lc3NUeXBlIiwiYnVpbGRpbmdOYW1lIiwiYWRkcmVzc0xpbmUiLCJwYXNzd29yZENvbmZpcm1hdGlvbiIsInJlZ2lzdHJhdGlvblZpZXciLCJvdHBWaWV3IiwicmVnaXN0ZXJCdXR0b24iLCJyZWdpc3RlckZvcm0iLCJmb3JtSXNWYWxpZCIsInJlcG9ydFZhbGlkaXR5IiwiZ3JlY2FwdGNoYSIsImdldFJlc3BvbnNlIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJ0ZWxlcGhvbmUiLCJjb21wYW55X25hbWUiLCJjb21wYW55X2FkZHJlc3MiLCJjdXN0b21lcl9ncm91cF9pZCIsImhvdXNlX2J1aWxkaW5nIiwiYWRkcmVzcyIsImNvbmZpcm0iLCJ0aXRsZSIsIm90cCIsInZlcmlmeUJ1dHRvbiIsInNpZ251cF9vdHAiLCJ0aW1lb3V0Iiwicm9sZSIsInlvdXJzZWxmIiwicmVzZXQiLCJkZXNpZ25hdGlvbiIsImNvbXBhbnkiLCJkZXNjcmlwdGlvbiIsInJlc2V0QnV0dG9uIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztDQUFBLFNBQUFBLEVBQUFDLEVBQUFDLEVBQUFDLEdBRUEsWUFFQUgsR0FBQSxXQWdDQSxRQUFBSSxHQUFBQyxHQUNBLEdBQUFDLEdBQUFDLEtBQUFDLE1BQUFILEVBQUEsSUFDQUksRUFBQUosRUFBQSxFQVNBLE9BUEFDLEdBQUFBLEVBQUEsR0FBQSxJQUFBQSxFQUFBQSxFQUNBRyxFQUFBQSxFQUFBLEdBQUEsSUFBQUEsRUFBQUEsRUFDQVQsRUFBQSxrQkFBQVUsT0FDQVYsRUFBQSxpQkFBQVcsT0FDQVQsRUFBQVUsZUFBQSxnQkFBQUMsVUFBQVAsRUFBQSxJQUFBRyxFQUNBSixHQUFBLEVBRUFBLEdBQUEsR0FBQVMsTUFDQUMsWUFBQSxXQUNBWCxFQUFBQyxJQUNBLE1BR0FXLFFBQUFDLElBQUEsU0FDQWpCLEVBQUEsa0JBQUFXLE9BQ0FYLEVBQUEsaUJBQUFVLFlBR0FJLEdBTUFJLE1BQUEscUJBMURBbEIsRUFBQUUsR0FBQWlCLE9BQUEsV0FDQSxHQUFBQyxHQUFBcEIsRUFBQSxhQUNBb0IsR0FBQUMsWUFBQSxXQUFBckIsRUFBQXNCLE1BQUFDLFlBQUFILEVBQUFJLFlBSUF4QixFQUFBLDRCQUFBeUIsTUFBQSxXQUNBLEdBQUFDLEdBQUExQixFQUFBc0IsTUFBQUssS0FBQSxPQUNBM0IsR0FBQSxjQUFBNEIsU0FDQUwsVUFBQXZCLEVBQUEwQixHQUFBRyxTQUFBQyxLQUNBLE9BSUFDLFlBR0FDLEtBQUFDLEdBQUEsa0JBQ0FDLFFBQUEsRUFDQUMsRUFBQSxFQUNBQyxTQUFBLEdBQ0FDLEtBQUEsWUFHQUwsS0FBQUMsR0FBQSxxQkFDQUUsRUFBQSxFQUNBQyxTQUFBLElBR0EsSUFBQXRCLElBQUEsQ0FnQ0FkLEdBQUFFLEdBQUFvQyxTQUFBLDRCQUFBLFFBQUEsU0FBQUMsR0FDQUEsRUFBQUMsZ0JBRUEsTUFBQUMsR0FBQXpDLEVBQUEsaUJBQ0EwQyxFQUFBMUMsRUFBQSxnQkFBQTJDLE1BQ0FDLEVBQUE1QyxFQUFBLG1CQUFBMkMsS0FDQUQsR0FBQUcsT0FBQSxHQUFBRCxFQUFBQyxPQUFBLElBQ0FKLEVBQUFLLEtBQUEsZUFDQUwsRUFBQXBCLFlBQUEsWUFDQXJCLEVBQUErQyxNQUNBQyxJQUFBLDJDQUNBQyxLQUFBLE9BQ0FDLE1BQUFSLE1BQUFBLEVBQUFFLFNBQUFBLEdBQ0FPLFNBQUEsT0FDQUMsUUFBQSxTQUFBQyxHQUNBckMsUUFBQUMsSUFBQW9DLEdBQ0EsR0FBQUEsRUFBQSxPQUNBLE1BQUFBLEVBQUEsYUFDQXJELEVBQUEsVUFBQVUsT0FDQVYsRUFBQSxXQUFBVyxPQUNBWCxFQUFBLGVBQUFzRCxRQUNBdEQsRUFBQSxlQUFBdUQsT0FBQSxzQ0FBQUYsRUFBQSxXQUFBLFFBQUEsT0FDQWpELEVBQUEsSUFDQVksUUFBQUMsSUFBQW9DLEVBQUEsV0FBQSxTQUNBWixFQUFBSyxLQUFBLFdBR0FVLFNBQUFDLE9BQ0FDLFNBQUEsV0FDQUMsUUFBQU4sRUFBQSxnQkFFQVosRUFBQUssS0FBQSxTQUNBTCxFQUFBcEIsWUFBQSxtQkFRQXJCLEVBQUFFLEdBQUFvQyxTQUFBLG1CQUFBLFFBQUEsU0FBQUMsR0FDQUEsRUFBQUMsZ0JBRUEsTUFBQUMsR0FBQXpDLEVBQUEsaUJBQ0EwQyxFQUFBMUMsRUFBQSxnQkFBQTJDLE1BQ0FDLEVBQUE1QyxFQUFBLG1CQUFBMkMsTUFDQWlCLEVBQUE1RCxFQUFBLGdCQUFBMkMsTUFDQWtCLEVBQUE3RCxFQUFBLGtCQUFBMkMsS0FDQUQsR0FBQUcsT0FBQSxHQUFBRCxFQUFBQyxPQUFBLEdBQUFlLEVBQUFmLE9BQUEsR0FBQWdCLEVBQUFoQixPQUFBLEdBQ0FKLEVBQUFLLEtBQUEsZUFDQUwsRUFBQXBCLFlBQUEsWUFDQXJCLEVBQUErQyxNQUNBQyxJQUFBLHFDQUNBQyxLQUFBLE9BQ0FDLE1BQUFSLE1BQUFBLEVBQUFFLFNBQUFBLEVBQUFnQixZQUFBQSxFQUFBQyxjQUFBQSxHQUNBVixTQUFBLE9BQ0FDLFFBQUEsU0FBQUMsR0FDQUEsRUFBQSxRQUNBckQsRUFBQSxrQkFBQVUsT0FDQVYsRUFBQSxpQkFBQVUsT0FDQSxNQUFBMkMsRUFBQSxTQUNBcEQsRUFBQTZELFNBQUFDLEtBQUFWLEVBQUEsU0FDQSxLQUFBQSxFQUFBLGNBQ0FTLFNBQUE5RCxFQUFBLGFBQUEyQixLQUFBLFFBQUEsY0FDQVgsUUFBQUMsSUFBQWpCLEVBQUEsZUFFQThELFNBQUE5RCxFQUFBLGFBQUEyQixLQUFBLFVBR0E2QixTQUFBQyxPQUNBQyxTQUFBLFdBQ0FDLFFBQUFOLEVBQUEsZ0JBRUFaLEVBQUFLLEtBQUEsU0FDQUwsRUFBQXBCLFlBQUEsaUJBS0FtQyxTQUFBUSxTQUNBTixTQUFBLFdBQ0FDLFFBQUEsc0RBT0EzRCxFQUFBLG1CQUFBaUUsTUFBQSxTQUFBMUIsR0FDQSxNQUFBMkIsS0FBQTVDLEtBQUE2QyxTQUVBN0MsS0FBQTZDLE1BQUE3QyxLQUFBNkMsTUFBQUMsUUFBQSxNQUFBLE9BSUFwRSxFQUFBRSxHQUFBb0MsU0FBQSxtQkFBQSxRQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLGdCQUVBLE1BQUE2QixHQUFBckUsRUFBQSx3QkFBQTJDLE1BQ0EyQixFQUFBdEUsRUFBQSx1QkFBQTJDLE1BQ0FELEVBQUExQyxFQUFBLG1CQUFBMkMsTUFDQTRCLEVBQUF2RSxFQUFBLG1CQUFBMkMsTUFDQTZCLEVBQUF4RSxFQUFBLDBCQUFBMkMsTUFDQThCLEVBQUF6RSxFQUFBLDZCQUFBMkMsTUFDQStCLEVBQUExRSxFQUFBLDJCQUFBMkMsTUFDQWdDLEVBQUEzRSxFQUFBLDJCQUFBMkMsTUFDQWlDLEVBQUE1RSxFQUFBLDBCQUFBMkMsTUFDQW1CLEVBQUE5RCxFQUFBLHNCQUFBMkMsTUFDQUMsRUFBQTVDLEVBQUEsc0JBQUEyQyxNQUNBa0MsRUFBQTdFLEVBQUEsOEJBQUEyQyxNQUNBbUMsRUFBQTlFLEVBQUEsc0JBQ0ErRSxFQUFBL0UsRUFBQSxhQUNBZ0YsRUFBQWhGLEVBQUEsb0JBQ0FpRixFQUFBakYsRUFBQSxrQkFBQSxHQUNBa0YsRUFBQUQsRUFBQUUsZ0JBQ0FELEtBQ0FMLElBQUFqQyxFQUNBWSxTQUFBUSxTQUNBTixTQUFBLFdBQ0FDLFFBQUEsMEJBR0EsSUFBQXlCLFdBQUFDLGNBQ0E3QixTQUFBUSxTQUNBTixTQUFBLFdBQ0FDLFFBQUEsNkJBR0FxQixFQUFBbEMsS0FBQSxlQUNBa0MsRUFBQTNELFlBQUEsWUFFQXJCLEVBQUErQyxNQUNBQyxJQUFBLG9EQUNBQyxLQUFBLE9BQ0FFLFNBQUEsT0FDQUQsTUFDQW9DLFVBQUFqQixFQUNBa0IsU0FBQWpCLEVBQ0E1QixNQUFBQSxFQUNBOEMsVUFBQWpCLEVBQ0FrQixhQUFBakIsRUFDQWtCLGdCQUFBakIsRUFDQWtCLGtCQUFBakIsRUFDQWtCLGVBQUFqQixFQUNBa0IsUUFBQWpCLEVBQ0FkLFNBQUFBLEVBQ0FsQixTQUFBQSxFQUNBa0QsUUFBQWpCLEdBRUF6QixRQUFBLFNBQUFDLEdBQ0EyQixFQUFBbEMsS0FBQSxXQUNBa0MsRUFBQTNELFlBQUEsWUFFQWdDLEVBQUEsUUFDQUcsU0FBQUosU0FDQU0sU0FBQSxXQUNBQyxRQUFBTixFQUFBLGtCQUdBeUIsRUFBQXBFLE9BQ0FxRSxFQUFBcEUsUUFFQTZDLFNBQUFRLFNBQ0FOLFNBQUEsV0FDQXFDLE1BQUEsT0FDQXBDLFFBQUFOLEVBQUEsdUJBV0FyRCxFQUFBRSxHQUFBb0MsU0FBQSxxQkFBQSxRQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLGdCQUVBLE1BQUE2QixHQUFBckUsRUFBQSx3QkFBQTJDLE1BQ0EyQixFQUFBdEUsRUFBQSx1QkFBQTJDLE1BQ0FELEVBQUExQyxFQUFBLG1CQUFBMkMsTUFDQTRCLEVBQUF2RSxFQUFBLG1CQUFBMkMsTUFDQTZCLEVBQUF4RSxFQUFBLDBCQUFBMkMsTUFDQThCLEVBQUF6RSxFQUFBLDZCQUFBMkMsTUFDQStCLEVBQUExRSxFQUFBLDJCQUFBMkMsTUFDQWdDLEVBQUEzRSxFQUFBLDJCQUFBMkMsTUFDQWlDLEVBQUE1RSxFQUFBLDBCQUFBMkMsTUFDQW1CLEVBQUE5RCxFQUFBLHNCQUFBMkMsTUFDQUMsRUFBQTVDLEVBQUEsc0JBQUEyQyxNQUNBa0MsRUFBQTdFLEVBQUEsOEJBQUEyQyxNQUNBcUQsRUFBQWhHLEVBQUEsY0FBQTJDLE1BQ0FzRCxFQUFBakcsRUFBQSxxQkFDQWdHLEdBQUFuRCxPQUFBLEdBQ0FvRCxFQUFBbkQsS0FBQSxlQUNBbUQsRUFBQTVFLFlBQUEsWUFFQXJCLEVBQUErQyxNQUNBQyxJQUFBLHNEQUNBQyxLQUFBLE9BQ0FFLFNBQUEsT0FDQUQsTUFDQW9DLFVBQUFqQixFQUNBa0IsU0FBQWpCLEVBQ0E1QixNQUFBQSxFQUNBOEMsVUFBQWpCLEVBQ0FrQixhQUFBakIsRUFDQWtCLGdCQUFBakIsRUFDQWtCLGtCQUFBakIsRUFDQWtCLGVBQUFqQixFQUNBa0IsUUFBQWpCLEVBQ0FkLFNBQUFBLEVBQ0FsQixTQUFBQSxFQUNBa0QsUUFBQWpCLEVBQ0FxQixXQUFBRixHQUVBNUMsUUFBQSxTQUFBQyxHQUNBNEMsRUFBQW5ELEtBQUEsVUFDQW1ELEVBQUE1RSxZQUFBLFlBQ0FyQixFQUFBLGNBQUEyQyxJQUFBLElBRUFVLEVBQUEsUUFDQUcsU0FBQUosU0FDQStDLFNBQUEsRUFDQXpDLFNBQUEsV0FDQUMsUUFBQU4sRUFBQSxrQkFHQXRDLFdBQUEsV0FDQWQsRUFBQTZELFNBQUE5RCxFQUFBLGFBQUEyQixLQUFBLFNBQ0EsTUFFQTZCLFNBQUFRLFNBQ0FOLFNBQUEsV0FDQUMsUUFBQSw4REFNQUgsU0FBQUMsT0FDQUMsU0FBQSxXQUNBQyxRQUFBLCtCQUtBM0QsRUFBQUUsR0FBQW9DLFNBQUEseUJBQUEsUUFBQSxTQUFBQyxHQUNBQSxFQUFBQyxnQkFDQSxNQUFBNkIsR0FBQXJFLEVBQUEsdUJBQUEyQyxNQUNBMkIsRUFBQXRFLEVBQUEsc0JBQUEyQyxNQUNBeUQsRUFBQXBHLEVBQUEsd0JBQUEyQyxNQUNBMEQsRUFBQXJHLEVBQUEsMkJBQUEyQyxNQUNBc0MsRUFBQWpGLEVBQUEsaUJBQUEsR0FDQWtGLEVBQUFELEVBQUFFLGlCQUNBSCxFQUFBaEYsRUFBQSx5QkFDQWtGLEtBQ0EsSUFBQUUsV0FBQUMsY0FDQTdCLFNBQUFRLFNBQ0FOLFNBQUEsV0FDQUMsUUFBQSw2QkFHQXFCLEVBQUFsQyxLQUFBLGVBQ0FrQyxFQUFBM0QsWUFBQSxZQUNBckIsRUFBQStDLE1BQ0FDLElBQUEseUNBQ0FDLEtBQUEsT0FDQUUsU0FBQSxPQUNBRCxNQUNBb0MsVUFBQWpCLEVBQ0FrQixTQUFBakIsRUFDQThCLEtBQUFBLEVBQ0FDLFNBQUFBLEdBRUFqRCxRQUFBLFNBQUFDLEdBQ0EyQixFQUFBM0QsWUFBQSxZQUNBZ0MsRUFBQSxRQUNBRyxTQUFBSixTQUNBTSxTQUFBLFdBQ0FDLFFBQUFOLEVBQUEsa0JBRUFyRCxFQUFBLGlCQUFBLEdBQUFzRyxTQUVBOUMsU0FBQVEsU0FDQU4sU0FBQSxXQUNBcUMsTUFBQSxPQUNBcEMsUUFBQU4sRUFBQSx1QkFTQXJELEVBQUFFLEdBQUFvQyxTQUFBLCtCQUFBLFFBQUEsU0FBQUMsR0FDQUEsRUFBQUMsZ0JBQ0EsTUFBQTZCLEdBQUFyRSxFQUFBLHVCQUFBMkMsTUFDQTJCLEVBQUF0RSxFQUFBLHNCQUFBMkMsTUFDQTRELEVBQUF2RyxFQUFBLHdCQUFBMkMsTUFDQTZELEVBQUF4RyxFQUFBLHlCQUFBMkMsTUFDQUQsRUFBQTFDLEVBQUEsa0JBQUEyQyxNQUNBNEIsRUFBQXZFLEVBQUEsa0JBQUEyQyxNQUNBOEQsRUFBQXpHLEVBQUEsd0JBQUEyQyxNQUNBc0MsRUFBQWpGLEVBQUEsOEJBQUEsR0FDQWtGLEVBQUFELEVBQUFFLGlCQUNBSCxFQUFBaEYsRUFBQSwrQkFDQWtGLEtBQ0EsSUFBQUUsV0FBQUMsY0FDQTdCLFNBQUFRLFNBQ0FOLFNBQUEsV0FDQUMsUUFBQSw2QkFHQXFCLEVBQUFsQyxLQUFBLGVBQ0FrQyxFQUFBM0QsWUFBQSxZQUNBckIsRUFBQStDLE1BQ0FDLElBQUEseUNBQ0FDLEtBQUEsT0FDQUUsU0FBQSxPQUNBRCxNQUNBb0MsVUFBQWpCLEVBQ0FrQixTQUFBakIsRUFDQWlDLFlBQUFBLEVBQ0FDLFFBQUFBLEVBQ0E5RCxNQUFBQSxFQUNBNkIsTUFBQUEsRUFDQWtDLFlBQUFBLEdBRUFyRCxRQUFBLFNBQUFDLEdBQ0EyQixFQUFBM0QsWUFBQSxZQUNBZ0MsRUFBQSxRQUNBRyxTQUFBSixTQUNBTSxTQUFBLFdBQ0FDLFFBQUFOLEVBQUEsa0JBRUFyRCxFQUFBLDhCQUFBLEdBQUFzRyxTQUVBOUMsU0FBQVEsU0FDQU4sU0FBQSxXQUNBcUMsTUFBQSxPQUNBcEMsUUFBQU4sRUFBQSx1QkFTQXJELEVBQUEsd0JBQUF5QixNQUFBLFNBQUFjLEdBQ0FBLEVBQUFDLGlCQUVBeEMsRUFBQSxlQUFBVSxPQUNBVixFQUFBLHlCQUFBVyxTQUlBWCxFQUFBLDBCQUFBeUIsTUFBQSxTQUFBYyxHQUNBQSxFQUFBQyxnQkFFQSxNQUFBRSxHQUFBMUMsRUFBQSx5QkFBQTJDLE1BQ0ErRCxFQUFBMUcsRUFBQSx5QkFDQSxJQUFBMEMsRUFBQUcsT0FDQVcsU0FBQVEsU0FDQU4sU0FBQSxXQUNBQyxRQUFBLHFDQUdBK0MsRUFBQTVELEtBQUEsZUFDQTRELEVBQUFyRixZQUFBLFlBRUFyQixFQUFBK0MsTUFDQUMsSUFBQSxtQ0FDQUMsS0FBQSxPQUNBRSxTQUFBLE9BQ0FELE1BQ0FSLE1BQUFBLEdBRUFVLFFBQUEsU0FBQUMsR0FDQXFELEVBQUE1RCxLQUFBLGtCQUNBNEQsRUFBQXJGLFlBQUEsWUFDQXJCLEVBQUEseUJBQUEyQyxJQUFBLElBRUFVLEVBQUEsT0FDQUcsU0FBQUosU0FDQStDLFNBQUEsRUFDQXpDLFNBQUEsV0FDQUMsUUFBQU4sRUFBQSxlQUdBRyxTQUFBUSxTQUNBTixTQUFBLFdBQ0FDLFFBQUEsOERBUUEzRCxFQUFBLDJCQUFBeUIsTUFBQSxTQUFBYyxHQUNBQSxFQUFBQyxnQkFFQXhDLEdBQUEsc0JBQUEyQyxNQUNBM0MsRUFBQSxxQkFBQTJDLE1BQ0EzQyxFQUFBLGlCQUFBMkMsTUFDQTNDLEVBQUEsaUJBQUEyQyxNQUNBM0MsRUFBQSxnQkFBQTJDLE1BQ0EzQyxFQUFBLG9CQUFBMkMsTUFDQTNDLEVBQUEsd0JBQUEyQyxNQUNBM0MsRUFBQSwwQkFDQSxLQUFBb0YsV0FBQUMsY0FDQTdCLFNBQUFRLFNBQ0FOLFNBQUEsV0FDQUMsUUFBQSw0QkFHQTNELEVBQUEsNkJBQUEsR0FBQW1GLG1CQUNBM0IsU0FBQUosU0FDQU0sU0FBQSxXQUNBQyxRQUFBLCtDQUdBM0QsRUFBQSw2QkFBQSxHQUFBc0csY0F1Q0FLLE9BQUExRyxPQUFBQyIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgICQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIENoYW5nZSBuYXZiYXIgc3R5bGUgb24gc2Nyb2xsXHJcbiAgICAgICAgJChkb2N1bWVudCkuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyICRuYXYgPSAkKCcuZml4ZWQtdG9wJyk7XHJcbiAgICAgICAgICAgICRuYXYudG9nZ2xlQ2xhc3MoJ3Njcm9sbGVkJywgJCh0aGlzKS5zY3JvbGxUb3AoKSA+ICRuYXYuaGVpZ2h0KCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBOYXYgbGlua3Mgc2Nyb2xsIGFuaW1hdGlvblxyXG4gICAgICAgICQoJy5uYXYtbGluaywgLm5hdmJhci1icmFuZCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHNlY3Rpb25UbyA9ICQodGhpcykuYXR0cignaHJlZicpO1xyXG4gICAgICAgICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUb3A6ICQoc2VjdGlvblRvKS5vZmZzZXQoKS50b3BcclxuICAgICAgICAgICAgfSwgNzAwKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTGFuZGluZyBwYWdlIHNjcm9sbCBhbmltYXRpb25zXHJcbiAgICAgICAgU2Nyb2xsT3V0KCk7XHJcblxyXG4gICAgICAgIC8vIEhlcm8gc2VjdGlvbiBhbmltYXRpb25cclxuICAgICAgICBnc2FwLnRvKCcuYW5pbS1mcm9tLXRvcCcsIHtcclxuICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgZHVyYXRpb246IC41LFxyXG4gICAgICAgICAgICBlYXNlOiAnZWxhc3RpYydcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZ3NhcC50bygnLmFuaW0tZnJvbS1ib3R0b20nLCB7XHJcbiAgICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAuNVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgdGltZXJPbiA9IHRydWU7XHJcbiAgICAgICAgZnVuY3Rpb24gdGltZXIocmVtYWluaW5nKSB7XHJcbiAgICAgICAgICAgIHZhciBtID0gTWF0aC5mbG9vcihyZW1haW5pbmcgLyA2MCk7XHJcbiAgICAgICAgICAgIHZhciBzID0gcmVtYWluaW5nICUgNjA7XHJcblxyXG4gICAgICAgICAgICBtID0gbSA8IDEwID8gJzAnICsgbSA6IG07XHJcbiAgICAgICAgICAgIHMgPSBzIDwgMTAgPyAnMCcgKyBzIDogcztcclxuICAgICAgICAgICAgJChcIiNyZV9nZW5fcXJjb2RlXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgJChcIiNxcmNvZGVfdGltZXJcIikuc2hvdygpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncXJjb2RlX3RpbWVyJykuaW5uZXJIVE1MID0gbSArICc6JyArIHM7XHJcbiAgICAgICAgICAgIHJlbWFpbmluZyAtPSAxO1xyXG5cclxuICAgICAgICAgICAgaWYgKHJlbWFpbmluZyA+PSAwICYmIHRpbWVyT24pIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVyKHJlbWFpbmluZyk7XHJcbiAgICAgICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUSU1FUicpO1xyXG4gICAgICAgICAgICAgICAgJChcIiNyZV9nZW5fcXJjb2RlXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICQoXCIjcXJjb2RlX3RpbWVyXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCF0aW1lck9uKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBEbyB2YWxpZGF0ZSBzdHVmZiBoZXJlXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIERvIHRpbWVvdXQgc3R1ZmYgaGVyZVxyXG4gICAgICAgICAgICBhbGVydCgnVGltZW91dCBmb3Igb3RwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEN1c3RvbWVyIExvZ2luXHJcbiAgICAgICAgJChkb2N1bWVudCkuZGVsZWdhdGUoJyNsb2dpbi1idXR0b24sICNyZV9xcmNvZGUnLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBsb2dpbkJ1dHRvbiA9ICQoJyNsb2dpbi1idXR0b24nKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbWFpbCA9ICQoJyNsb2dpbi1lbWFpbCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gJCgnI2xvZ2luLXBhc3N3b3JkJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVtYWlsLmxlbmd0aCA+IDAgJiYgcGFzc3dvcmQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbG9naW5CdXR0b24udGV4dCgnUExFQVNFIFdBSVQnKTtcclxuICAgICAgICAgICAgICAgIGxvZ2luQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICdpbmRleC5waHA/cGF0aD1hY2NvdW50L2xvZ2luL2JlZm9yZUxvZ2luJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncG9zdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge2VtYWlsOiBlbWFpbCwgcGFzc3dvcmQ6IHBhc3N3b3JkfSxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGpzb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvblsnc3RhdHVzJ10gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25bJ3R3b19mYWN0b3InXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNjcmVkc1wiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNxcmNvZGVcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjcXJjb2RlX2ltZ1wiKS5lbXB0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjcXJjb2RlX2ltZ1wiKS5hcHBlbmQoXCI8aW1nIHdpZHRoPScxMDAnIGhlaWdodD0nMTAwJyBzcmM9J1wiICsganNvblsndHdvX2ZhY3RvciddWydxcl9jb2RlJ10gKyBcIicvPlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lcig2MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coanNvblsndHdvX2ZhY3RvciddWydxcl9jb2RlJ10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2luQnV0dG9uLnRleHQoJ0xPR0lOJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZToganNvblsnZXJyb3Jfd2FybmluZyddXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2luQnV0dG9uLnRleHQoJ0xPR0lOJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dpbkJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEN1c3RvbWVyIExvZ2luXHJcbiAgICAgICAgJChkb2N1bWVudCkuZGVsZWdhdGUoJyNxci1sb2dpbi1idXR0b24nLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBsb2dpbkJ1dHRvbiA9ICQoJyNsb2dpbi1idXR0b24nKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbWFpbCA9ICQoJyNsb2dpbi1lbWFpbCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gJCgnI2xvZ2luLXBhc3N3b3JkJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VjcmV0X2NvZGUgPSAkKCcjc2VjcmV0X2NvZGUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbmVfdGltZV9jb2RlID0gJCgnI29uZV90aW1lX2NvZGUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW1haWwubGVuZ3RoID4gMCAmJiBwYXNzd29yZC5sZW5ndGggPiAwICYmIHNlY3JldF9jb2RlLmxlbmd0aCA+IDAgJiYgb25lX3RpbWVfY29kZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dpbkJ1dHRvbi50ZXh0KCdQTEVBU0UgV0FJVCcpO1xyXG4gICAgICAgICAgICAgICAgbG9naW5CdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJ2luZGV4LnBocD9wYXRoPWFjY291bnQvbG9naW4vbG9naW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb3N0JyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7ZW1haWw6IGVtYWlsLCBwYXNzd29yZDogcGFzc3dvcmQsIHNlY3JldF9jb2RlOiBzZWNyZXRfY29kZSwgb25lX3RpbWVfY29kZTogb25lX3RpbWVfY29kZX0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoanNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvblsnc3RhdHVzJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjcmVfZ2VuX3FyY29kZVwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3FyY29kZV90aW1lclwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvblsncmVkaXJlY3QnXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBqc29uWydyZWRpcmVjdCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChqc29uWyd0ZW1wcGFzc3dvcmQnXSA9PSAnMScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9ICQoJy5iYXNlX3VybCcpLmF0dHIoJ2hyZWYnKSArICcvY2hhbmdlcGFzcyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJCgnLmJhc2VfdXJsJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9ICQoJy5iYXNlX3VybCcpLmF0dHIoJ2hyZWYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0LmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBqc29uWydlcnJvcl93YXJuaW5nJ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9naW5CdXR0b24udGV4dCgnTE9HSU4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2luQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIHlvdXIgc2VjcmV0IGNvZGUgYW5kIG9uZSB0aW1lIGNvZGUnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBDdXN0b21lciBSZWdpc3RyYXRpb25cclxuXHJcbiAgICAgICAgJCgnI3JlZ2lzdGVyLXBob25lJykua2V5dXAoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgaWYgKC9cXEQvZy50ZXN0KHRoaXMudmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBGaWx0ZXIgb3V0IG5vbi1kaWdpdHMgZnJvbSBpbnB1dCB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUucmVwbGFjZSgvXFxEL2csICcnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5kZWxlZ2F0ZSgnI3JlZ2lzdGVyLWJ1dHRvbicsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0TmFtZSA9ICQoJyNyZWdpc3Rlci1maXJzdC1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdE5hbWUgPSAkKCcjcmVnaXN0ZXItbGFzdC1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1haWwgPSAkKCcjcmVnaXN0ZXItZW1haWwnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaG9uZSA9ICQoJyNyZWdpc3Rlci1waG9uZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBhbnlOYW1lID0gJCgnI3JlZ2lzdGVyLWNvbXBhbnktbmFtZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBhbnlBZGRyZXNzID0gJCgnI3JlZ2lzdGVyLWNvbXBhbnktYWRkcmVzcycpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1c2luZXNzVHlwZSA9ICQoJyNyZWdpc3Rlci1idXNpbmVzcy10eXBlJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdOYW1lID0gJCgnI3JlZ2lzdGVyLWJ1aWxkaW5nLW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRyZXNzTGluZSA9ICQoJyNyZWdpc3Rlci1hZGRyZXNzLWxpbmUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9ICQoJyNyZWdpc3Rlci1sb2NhdGlvbicpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gJCgnI3JlZ2lzdGVyLXBhc3N3b3JkJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFzc3dvcmRDb25maXJtYXRpb24gPSAkKCcjcmVnaXN0ZXItcGFzc3dvcmQtY29uZmlybScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lzdHJhdGlvblZpZXcgPSAkKCcjcmVnaXN0cmF0aW9uLXZpZXcnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvdHBWaWV3ID0gJCgnI290cC12aWV3Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnaXN0ZXJCdXR0b24gPSAkKCcjcmVnaXN0ZXItYnV0dG9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnaXN0ZXJGb3JtID0gJCgnI3JlZ2lzdGVyLWZvcm0nKVswXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtSXNWYWxpZCA9IHJlZ2lzdGVyRm9ybS5yZXBvcnRWYWxpZGl0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JtSXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhc3N3b3JkQ29uZmlybWF0aW9uICE9PSBwYXNzd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1Bhc3N3b3JkcyBkbyBubyBtYXRjaCdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKSA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBjb21wbGV0ZSBjYXB0Y2hhJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RlckJ1dHRvbi50ZXh0KCdQTEVBU0UgV0FJVCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RlckJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdpbmRleC5waHA/cGF0aD1hY2NvdW50L3JlZ2lzdGVyL3JlZ2lzdGVyX3NlbmRfb3RwJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RuYW1lOiBmaXJzdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdG5hbWU6IGxhc3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZWxlcGhvbmU6IHBob25lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogY29tcGFueU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFueV9hZGRyZXNzOiBjb21wYW55QWRkcmVzcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcl9ncm91cF9pZDogYnVzaW5lc3NUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdXNlX2J1aWxkaW5nOiBidWlsZGluZ05hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzc0xpbmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtOiBwYXNzd29yZENvbmZpcm1hdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJCdXR0b24udGV4dCgnU0lHTiBVUCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvblsnc3RhdHVzJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Quc3VjY2Vzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ3N1Y2Nlc3NfbWVzc2FnZSddXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0cmF0aW9uVmlldy5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90cFZpZXcuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZToganNvblsnZXJyb3Jfd2FybmluZyddXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIE9UUCBWZXJpZmljYXRpb25cclxuICAgICAgICAkKGRvY3VtZW50KS5kZWxlZ2F0ZSgnI290cC12ZXJpZnktYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZmlyc3ROYW1lID0gJCgnI3JlZ2lzdGVyLWZpcnN0LW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TmFtZSA9ICQoJyNyZWdpc3Rlci1sYXN0LW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbWFpbCA9ICQoJyNyZWdpc3Rlci1lbWFpbCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBob25lID0gJCgnI3JlZ2lzdGVyLXBob25lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcGFueU5hbWUgPSAkKCcjcmVnaXN0ZXItY29tcGFueS1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcGFueUFkZHJlc3MgPSAkKCcjcmVnaXN0ZXItY29tcGFueS1hZGRyZXNzJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVzaW5lc3NUeXBlID0gJCgnI3JlZ2lzdGVyLWJ1c2luZXNzLXR5cGUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBidWlsZGluZ05hbWUgPSAkKCcjcmVnaXN0ZXItYnVpbGRpbmctbmFtZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZHJlc3NMaW5lID0gJCgnI3JlZ2lzdGVyLWFkZHJlc3MtbGluZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gJCgnI3JlZ2lzdGVyLWxvY2F0aW9uJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFzc3dvcmQgPSAkKCcjcmVnaXN0ZXItcGFzc3dvcmQnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXNzd29yZENvbmZpcm1hdGlvbiA9ICQoJyNyZWdpc3Rlci1wYXNzd29yZC1jb25maXJtJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3RwID0gJCgnI290cC12YWx1ZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcmlmeUJ1dHRvbiA9ICQoJyNvdHAtdmVyaWZ5LWJ1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdHAubGVuZ3RoID4gMykge1xyXG4gICAgICAgICAgICAgICAgdmVyaWZ5QnV0dG9uLnRleHQoJ1BMRUFTRSBXQUlUJyk7XHJcbiAgICAgICAgICAgICAgICB2ZXJpZnlCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICdpbmRleC5waHA/cGF0aD1hY2NvdW50L3JlZ2lzdGVyL3JlZ2lzdGVyX3ZlcmlmeV9vdHAnLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RuYW1lOiBmaXJzdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RuYW1lOiBsYXN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZWxlcGhvbmU6IHBob25lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6IGNvbXBhbnlOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wYW55X2FkZHJlc3M6IGNvbXBhbnlBZGRyZXNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21lcl9ncm91cF9pZDogYnVzaW5lc3NUeXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3VzZV9idWlsZGluZzogYnVpbGRpbmdOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzTGluZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm06IHBhc3N3b3JkQ29uZmlybWF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWdudXBfb3RwOiBvdHBcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeUJ1dHRvbi50ZXh0KCdWRVJJRlknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5QnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjb3RwLXZhbHVlJykudmFsKCcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uWydzdGF0dXMnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Quc3VjY2Vzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZToganNvblsnc3VjY2Vzc19tZXNzYWdlJ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9ICQoJy5iYXNlX3VybCcpLmF0dHIoJ2hyZWYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnV2UgY291bGRuXFwndCB2ZXJpZnkgeW91ciBhY2NvdW50LiBQbGVhc2UgY2hlY2sgdGhlIE9UUCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpemlUb2FzdC5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciBhIHZhbGlkIE9UUCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLmRlbGVnYXRlKCcjY2FyZWVycy1zdWJtaXQtYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0TmFtZSA9ICQoJyNjYXJlZXJzLWZpcnN0LW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TmFtZSA9ICQoJyNjYXJlZXJzLWxhc3QtbmFtZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvbGUgPSAkKCcjY2FyZWVycy1kZXNpZ25hdGlvbicpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHlvdXJzZWxmID0gJCgnI2NhcmVlcnMtYWJvdXQteW91cnNlbGYnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWdpc3RlckZvcm0gPSAkKCcjY2FyZWVycy1mb3JtJylbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybUlzVmFsaWQgPSByZWdpc3RlckZvcm0ucmVwb3J0VmFsaWRpdHkoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWdpc3RlckJ1dHRvbiA9ICQoJyNjYXJlZXJzLXN1Ym1pdC1idXR0b24nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybUlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChncmVjYXB0Y2hhLmdldFJlc3BvbnNlKCkgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgY29tcGxldGUgY2FwdGNoYSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJCdXR0b24udGV4dCgnUExFQVNFIFdBSVQnKTtcclxuICAgICAgICAgICAgICAgICAgICByZWdpc3RlckJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdpbmRleC5waHA/cGF0aD1jb21tb24vaG9tZS9zYXZlY2FyZWVycycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RuYW1lOiBmaXJzdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0bmFtZTogbGFzdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiByb2xlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeW91cnNlbGY6IHlvdXJzZWxmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RlckJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uWydzdGF0dXMnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0LnN1Y2Nlc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZToganNvblsnc3VjY2Vzc19tZXNzYWdlJ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjY2FyZWVycy1mb3JtJylbMF0ucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBqc29uWydlcnJvcl93YXJuaW5nJ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLmRlbGVnYXRlKCcjcGFydG5lci1yZWdpc3RyYXRpb24tYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0TmFtZSA9ICQoJyNwYXJ0bmVyLWZpcnN0LW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TmFtZSA9ICQoJyNwYXJ0bmVyLWxhc3QtbmFtZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2lnbmF0aW9uID0gJCgnI3BhcnRuZXItZGVzaWduYXRpb24nKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wYW55ID0gJCgnI3BhcnRuZXItY29tcGFueS1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1haWwgPSAkKCcjcGFydG5lci1lbWFpbCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBob25lID0gJCgnI3BhcnRuZXItcGhvbmUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9ICQoJyNwYXJ0bmVyLWRlc2NyaXB0aW9uJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnaXN0ZXJGb3JtID0gJCgnI3BhcnRuZXItcmVnaXN0cmF0aW9uLWZvcm0nKVswXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtSXNWYWxpZCA9IHJlZ2lzdGVyRm9ybS5yZXBvcnRWYWxpZGl0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lzdGVyQnV0dG9uID0gJCgnI3BhcnRuZXItcmVnaXN0cmF0aW9uLWJ1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JtSXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKSA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBjb21wbGV0ZSBjYXB0Y2hhJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWdpc3RlckJ1dHRvbi50ZXh0KCdQTEVBU0UgV0FJVCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2luZGV4LnBocD9wYXRoPWNvbW1vbi9ob21lL3NhdmVwYXJ0bmVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdG5hbWU6IGZpcnN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RuYW1lOiBsYXN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2lnbmF0aW9uOiBkZXNpZ25hdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhbnk6IGNvbXBhbnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG9uZTogcGhvbmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGpzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25bJ3N0YXR1cyddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Quc3VjY2Vzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBqc29uWydzdWNjZXNzX21lc3NhZ2UnXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNwYXJ0bmVyLXJlZ2lzdHJhdGlvbi1mb3JtJylbMF0ucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBqc29uWydlcnJvcl93YXJuaW5nJ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJyNmb3Jnb3QtcGFzc3dvcmQtYnRuJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgJCgnI2xvZ2luLXZpZXcnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyNmb3Jnb3QtcGFzc3dvcmQtdmlldycpLnNob3coKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJyNwYXNzd29yZC1yZXNldC1idXR0b24nKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBlbWFpbCA9ICQoJyNyZXNldC1wYXNzd29yZC1lbWFpbCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0QnV0dG9uID0gJCgnI3Bhc3N3b3JkLXJlc2V0LWJ1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbWFpbC5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciB5b3VyIGFjY291bnQgZW1haWwnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlc2V0QnV0dG9uLnRleHQoJ1BMRUFTRSBXQUlUJyk7XHJcbiAgICAgICAgICAgICAgICByZXNldEJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJ2luZGV4LnBocD9wYXRoPWFjY291bnQvZm9yZ290dGVuJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGpzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRCdXR0b24udGV4dCgnUkVTRVQgUEFTU1dPUkQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNyZXNldC1wYXNzd29yZC1lbWFpbCcpLnZhbCgnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvblsnc3RhdHVzJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0LnN1Y2Nlc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ3RleHRfbWVzc2FnZSddXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdXZSBjb3VsZG5cXCd0IGZpbmQgYW4gYWNjb3VudCB3aXRoIHRoYXQgZW1haWwgYWRkcmVzcydcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI2Zhcm1lci1yZWdpc3Rlci1idXR0b24nKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBmaXJzdE5hbWUgPSAkKCcjZmFybWVyLWZpcnN0LW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TmFtZSA9ICQoJyNmYXJtZXItbGFzdC1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1haWwgPSAkKCcjZmFybWVyLWVtYWlsJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGhvbmUgPSAkKCcjZmFybWVyLXBob25lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFybWVyVHlwZSA9ICQoJyNmYXJtZXItdHlwZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhcm1Mb2NhdGlvbiA9ICQoJyNmYXJtZXItbG9jYXRpb24nKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWNlRGVzY3JpcHRpb24gPSAkKCdmYXJtZXItcHJvZHVjZS1ncm93bicpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lzdGVyQnV0dG9uID0gJCgnI2Zhcm1lci1yZWdpc3Rlci1idXR0b24nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JlY2FwdGNoYS5nZXRSZXNwb25zZSgpID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGNvbXBsZXRlIGNhcHRjaGEnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICgkKCcjZmFybWVyLXJlZ2lzdHJhdGlvbi1mb3JtJylbMF0ucmVwb3J0VmFsaWRpdHkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0LnN1Y2Nlc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1RoYW5rcyBmb3IgcmVnaXN0ZXJpbmcuIFdlXFwnbGwgZ2V0IGluIHRvdWNoJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKCcjZmFybWVyLXJlZ2lzdHJhdGlvbi1mb3JtJylbMF0ucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZWdpc3RlckJ1dHRvbi50ZXh0KCdQTEVBU0UgV0FJVCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9YWNjb3VudC9mYXJtZXJyZWdpc3Rlci9yZWdpc3RlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgZGF0YTogeyBcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbmFtZTogZmlyc3ROYW1lICsgJyAnICsgbGFzdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVsZXBob25lOiBwaG9uZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJlZ2lzdGVyQnV0dG9uLnRleHQoJ1JFR0lTVEVSJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJlZ2lzdGVyQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKGpzb25bJ3N0YXR1cyddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgaXppVG9hc3Quc3VjY2Vzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ3N1Y2Nlc3NfbWVzc2FnZSddXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICQoJyNmYXJtZXItcmVnaXN0cmF0aW9uLWZvcm0nKVswXS5yZXNldCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGl0bGU6ICdPb3BzJyxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIG1lc3NhZ2U6ICdXZSBjb3VsZG5cXCd0IHJlZ2lzdGVyIHlvdS4gUGxlYXNlIHRyeSBhZ2FpbidcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XHJcbiJdfQ==
