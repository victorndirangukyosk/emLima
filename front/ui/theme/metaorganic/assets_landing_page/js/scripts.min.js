/*!
 * kwikbasket
 * KwikBasket Landing Page
 * 
 * @author KwikBasket
 * @version 1.0.0
 * Copyright 2020. MIT licensed.
 */
!function(e,t,s,a){"use strict";e(function(){e(s).scroll(function(){var t=e(".fixed-top");t.toggleClass("scrolled",e(this).scrollTop()>t.height())}),e(".nav-link, .navbar-brand").click(function(){var t=e(this).attr("href");e("html, body").animate({scrollTop:e(t).offset().top},700)}),ScrollOut(),gsap.to(".anim-from-top",{opacity:1,y:0,duration:.5,ease:"elastic"}),gsap.to(".anim-from-bottom",{y:0,duration:.5}),e(s).delegate("#login-button","click",function(t){t.preventDefault();const s=e("#login-button"),a=e("#login-email").val(),o=e("#login-password").val();a.length>0&&o.length>0?(s.text("PLEASE WAIT"),s.toggleClass("disabled"),e.ajax({url:"index.php?path=account/login/login",type:"post",data:{email:a,password:o},dataType:"json",success:function(t){t.status?"1"==t.temppassword?(location=e(".base_url").attr("href")+"/changepass",console.log(e(".base_url"))):location=e(".base_url").attr("href"):(iziToast.error({position:"topRight",message:"Incorrect email or password"}),s.text("LOGIN"),s.toggleClass("disabled"))}})):iziToast.warning({position:"topRight",message:"Please enter your email and password"})}),e("#register-phone").keyup(function(e){/\D/g.test(this.value)&&(this.value=this.value.replace(/\D/g,""))}),e(s).delegate("#register-button","click",function(t){t.preventDefault();const s=e("#register-first-name").val(),a=e("#register-last-name").val(),o=e("#register-email").val(),i=e("#register-phone").val(),r=e("#register-company-name").val(),n=e("#register-company-address").val(),l=e("#register-business-type").val(),g=e("#register-building-name").val(),p=e("#register-address-line").val(),c=e("#register-location").val(),d=e("#register-password").val(),u=e("#register-password-confirm").val(),m=e("#registration-view"),h=e("#otp-view"),v=e("#register-button"),f=e("#register-form")[0],w=f.reportValidity();w&&(u!==d?iziToast.warning({position:"topRight",message:"Passwords do no match"}):""==grecaptcha.getResponse()?iziToast.warning({position:"topRight",message:"Please complete captcha"}):(v.text("PLEASE WAIT"),v.toggleClass("disabled"),e.ajax({url:"index.php?path=account/register/register_send_otp",type:"POST",dataType:"json",data:{firstname:s,lastname:a,email:o,telephone:i,company_name:r,company_address:n,customer_group_id:l,house_building:g,address:p,location:c,password:d,confirm:u},success:function(e){v.text("SIGN UP"),v.toggleClass("disabled"),e.status?(iziToast.success({position:"topRight",message:e.success_message}),m.hide(),h.show()):iziToast.warning({position:"topRight",title:"Oops",message:"We couldn't create your account"})}})))}),e(s).delegate("#otp-verify-button","click",function(t){t.preventDefault();const s=e("#register-first-name").val(),a=e("#register-last-name").val(),o=e("#register-email").val(),i=e("#register-phone").val(),r=e("#register-company-name").val(),n=e("#register-company-address").val(),l=e("#register-business-type").val(),g=e("#register-building-name").val(),p=e("#register-address-line").val(),c=e("#register-location").val(),d=e("#register-password").val(),u=e("#register-password-confirm").val(),m=e("#otp-value").val(),h=e("#otp-verify-button");m.length>3?(h.text("PLEASE WAIT"),h.toggleClass("disabled"),e.ajax({url:"index.php?path=account/register/register_verify_otp",type:"POST",dataType:"json",data:{firstname:s,lastname:a,email:o,telephone:i,company_name:r,company_address:n,customer_group_id:l,house_building:g,address:p,location:c,password:d,confirm:u,signup_otp:m},success:function(t){h.text("VERIFY"),h.toggleClass("disabled"),e("#otp-value").val(""),t.status?iziToast.success({timeout:!1,position:"topRight",message:t.success_message}):iziToast.warning({position:"topRight",message:"We couldn't verify your account. Please check the OTP"})}})):iziToast.error({position:"topRight",message:"Please enter a valid OTP"})}),e("#forgot-password-btn").click(function(t){t.preventDefault(),e("#login-view").hide(),e("#forgot-password-view").show()}),e("#password-reset-button").click(function(t){t.preventDefault();const s=e("#reset-password-email").val(),a=e("#password-reset-button");0==s.length?iziToast.warning({position:"topRight",message:"Please enter your account email"}):(a.text("PLEASE WAIT"),a.toggleClass("disabled"),e.ajax({url:"index.php?path=account/forgotten",type:"POST",dataType:"json",data:{email:s},success:function(t){a.text("RESET PASSWORD"),a.toggleClass("disabled"),e("#reset-password-email").val(""),t.status?iziToast.success({timeout:!1,position:"topRight",message:t.text_message}):iziToast.warning({position:"topRight",message:"We couldn't find an account with that email address"})}}))})})}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwic2Nyb2xsIiwiJG5hdiIsInRvZ2dsZUNsYXNzIiwidGhpcyIsInNjcm9sbFRvcCIsImhlaWdodCIsImNsaWNrIiwic2VjdGlvblRvIiwiYXR0ciIsImFuaW1hdGUiLCJvZmZzZXQiLCJ0b3AiLCJTY3JvbGxPdXQiLCJnc2FwIiwidG8iLCJvcGFjaXR5IiwieSIsImR1cmF0aW9uIiwiZWFzZSIsImRlbGVnYXRlIiwiZSIsInByZXZlbnREZWZhdWx0IiwibG9naW5CdXR0b24iLCJlbWFpbCIsInZhbCIsInBhc3N3b3JkIiwibGVuZ3RoIiwidGV4dCIsImFqYXgiLCJ1cmwiLCJ0eXBlIiwiZGF0YSIsImRhdGFUeXBlIiwic3VjY2VzcyIsImpzb24iLCJsb2NhdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJpemlUb2FzdCIsImVycm9yIiwicG9zaXRpb24iLCJtZXNzYWdlIiwid2FybmluZyIsImtleXVwIiwidGVzdCIsInZhbHVlIiwicmVwbGFjZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwicGhvbmUiLCJjb21wYW55TmFtZSIsImNvbXBhbnlBZGRyZXNzIiwiYnVzaW5lc3NUeXBlIiwiYnVpbGRpbmdOYW1lIiwiYWRkcmVzc0xpbmUiLCJwYXNzd29yZENvbmZpcm1hdGlvbiIsInJlZ2lzdHJhdGlvblZpZXciLCJvdHBWaWV3IiwicmVnaXN0ZXJCdXR0b24iLCJyZWdpc3RlckZvcm0iLCJmb3JtSXNWYWxpZCIsInJlcG9ydFZhbGlkaXR5IiwiZ3JlY2FwdGNoYSIsImdldFJlc3BvbnNlIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJ0ZWxlcGhvbmUiLCJjb21wYW55X25hbWUiLCJjb21wYW55X2FkZHJlc3MiLCJjdXN0b21lcl9ncm91cF9pZCIsImhvdXNlX2J1aWxkaW5nIiwiYWRkcmVzcyIsImNvbmZpcm0iLCJoaWRlIiwic2hvdyIsInRpdGxlIiwib3Rw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IihmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gICQoZnVuY3Rpb24gKCkge1xuICAgIC8vIENoYW5nZSBuYXZiYXIgc3R5bGUgb24gc2Nyb2xsXG4gICAgJChkb2N1bWVudCkuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkbmF2ID0gJCgnLmZpeGVkLXRvcCcpO1xuICAgICAgJG5hdi50b2dnbGVDbGFzcygnc2Nyb2xsZWQnLCAkKHRoaXMpLnNjcm9sbFRvcCgpID4gJG5hdi5oZWlnaHQoKSk7XG4gICAgfSk7XG5cbiAgICAvLyBOYXYgbGlua3Mgc2Nyb2xsIGFuaW1hdGlvblxuICAgICQoJy5uYXYtbGluaywgLm5hdmJhci1icmFuZCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzZWN0aW9uVG8gPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgc2Nyb2xsVG9wOiAkKHNlY3Rpb25Ubykub2Zmc2V0KCkudG9wXG4gICAgICB9LCA3MDApO1xuICAgIH0pO1xuXG4gICAgLy8gTGFuZGluZyBwYWdlIHNjcm9sbCBhbmltYXRpb25zXG4gICAgU2Nyb2xsT3V0KCk7XG5cbiAgICAvLyBIZXJvIHNlY3Rpb24gYW5pbWF0aW9uXG4gICAgZ3NhcC50bygnLmFuaW0tZnJvbS10b3AnLCB7XG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgeTogMCwgXG4gICAgICBkdXJhdGlvbjogLjUsXG4gICAgICBlYXNlOiAnZWxhc3RpYydcbiAgICB9KTtcblxuICAgIGdzYXAudG8oJy5hbmltLWZyb20tYm90dG9tJywge1xuICAgICAgeTogMCwgXG4gICAgICBkdXJhdGlvbjogLjVcbiAgICB9KTtcblxuICAgIC8vIEN1c3RvbWVyIExvZ2luXG4gICAgJChkb2N1bWVudCkuZGVsZWdhdGUoJyNsb2dpbi1idXR0b24nLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBjb25zdCBsb2dpbkJ1dHRvbiA9ICQoJyNsb2dpbi1idXR0b24nKTtcbiAgICAgIGNvbnN0IGVtYWlsID0gJCgnI2xvZ2luLWVtYWlsJykudmFsKCk7XG4gICAgICBjb25zdCBwYXNzd29yZCA9ICQoJyNsb2dpbi1wYXNzd29yZCcpLnZhbCgpO1xuXG4gICAgICBpZihlbWFpbC5sZW5ndGggPiAwICYmIHBhc3N3b3JkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbG9naW5CdXR0b24udGV4dCgnUExFQVNFIFdBSVQnKTtcbiAgICAgICAgbG9naW5CdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9YWNjb3VudC9sb2dpbi9sb2dpbicsXG4gICAgICAgICAgdHlwZTogJ3Bvc3QnLFxuICAgICAgICAgIGRhdGE6IHsgZW1haWw6IGVtYWlsLCBwYXNzd29yZDogcGFzc3dvcmQgfSxcbiAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgICAgICBpZiAoanNvblsnc3RhdHVzJ10pIHtcbiAgICAgICAgICAgICAgaWYgKGpzb25bJ3RlbXBwYXNzd29yZCddID09ICcxJykge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gJCgnLmJhc2VfdXJsJykuYXR0cignaHJlZicpICsgJy9jaGFuZ2VwYXNzJztcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkKCcuYmFzZV91cmwnKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24gPSAkKCcuYmFzZV91cmwnKS5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGl6aVRvYXN0LmVycm9yKHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnSW5jb3JyZWN0IGVtYWlsIG9yIHBhc3N3b3JkJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgbG9naW5CdXR0b24udGV4dCgnTE9HSU4nKTtcbiAgICAgICAgICAgICAgbG9naW5CdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xuICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgeW91ciBlbWFpbCBhbmQgcGFzc3dvcmQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQ3VzdG9tZXIgUmVnaXN0cmF0aW9uXG5cbiAgICAkKCcjcmVnaXN0ZXItcGhvbmUnKS5rZXl1cChmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoL1xcRC9nLnRlc3QodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgLy8gRmlsdGVyIG91dCBub24tZGlnaXRzIGZyb20gaW5wdXQgdmFsdWVcbiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLmRlbGVnYXRlKCcjcmVnaXN0ZXItYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgY29uc3QgZmlyc3ROYW1lID0gJCgnI3JlZ2lzdGVyLWZpcnN0LW5hbWUnKS52YWwoKTtcbiAgICAgIGNvbnN0IGxhc3ROYW1lID0gJCgnI3JlZ2lzdGVyLWxhc3QtbmFtZScpLnZhbCgpO1xuICAgICAgY29uc3QgZW1haWwgPSAkKCcjcmVnaXN0ZXItZW1haWwnKS52YWwoKTtcbiAgICAgIGNvbnN0IHBob25lID0gJCgnI3JlZ2lzdGVyLXBob25lJykudmFsKCk7XG4gICAgICBjb25zdCBjb21wYW55TmFtZSA9ICQoJyNyZWdpc3Rlci1jb21wYW55LW5hbWUnKS52YWwoKTsgXG4gICAgICBjb25zdCBjb21wYW55QWRkcmVzcyA9ICQoJyNyZWdpc3Rlci1jb21wYW55LWFkZHJlc3MnKS52YWwoKTtcbiAgICAgIGNvbnN0IGJ1c2luZXNzVHlwZSA9ICQoJyNyZWdpc3Rlci1idXNpbmVzcy10eXBlJykudmFsKCk7XG4gICAgICBjb25zdCBidWlsZGluZ05hbWUgPSAkKCcjcmVnaXN0ZXItYnVpbGRpbmctbmFtZScpLnZhbCgpO1xuICAgICAgY29uc3QgYWRkcmVzc0xpbmUgPSAkKCcjcmVnaXN0ZXItYWRkcmVzcy1saW5lJykudmFsKCk7XG4gICAgICBjb25zdCBsb2NhdGlvbiA9ICQoJyNyZWdpc3Rlci1sb2NhdGlvbicpLnZhbCgpO1xuICAgICAgY29uc3QgcGFzc3dvcmQgPSAkKCcjcmVnaXN0ZXItcGFzc3dvcmQnKS52YWwoKTtcbiAgICAgIGNvbnN0IHBhc3N3b3JkQ29uZmlybWF0aW9uID0gJCgnI3JlZ2lzdGVyLXBhc3N3b3JkLWNvbmZpcm0nKS52YWwoKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVnaXN0cmF0aW9uVmlldyA9ICQoJyNyZWdpc3RyYXRpb24tdmlldycpO1xuICAgICAgY29uc3Qgb3RwVmlldyA9ICQoJyNvdHAtdmlldycpO1xuXG4gICAgICBjb25zdCByZWdpc3RlckJ1dHRvbiA9ICQoJyNyZWdpc3Rlci1idXR0b24nKTtcbiAgICAgIGNvbnN0IHJlZ2lzdGVyRm9ybSA9ICQoJyNyZWdpc3Rlci1mb3JtJylbMF07XG4gICAgICBjb25zdCBmb3JtSXNWYWxpZCA9IHJlZ2lzdGVyRm9ybS5yZXBvcnRWYWxpZGl0eSgpO1xuXG4gICAgICBpZihmb3JtSXNWYWxpZCkge1xuICAgICAgICBpZihwYXNzd29yZENvbmZpcm1hdGlvbiAhPT0gcGFzc3dvcmQpIHtcbiAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1Bhc3N3b3JkcyBkbyBubyBtYXRjaCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZihncmVjYXB0Y2hhLmdldFJlc3BvbnNlKCkgPT0gJycpIHtcbiAgICAgICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xuICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcbiAgICAgICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBjb21wbGV0ZSBjYXB0Y2hhJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRleHQoJ1BMRUFTRSBXQUlUJyk7XG4gICAgICAgICAgICByZWdpc3RlckJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9YWNjb3VudC9yZWdpc3Rlci9yZWdpc3Rlcl9zZW5kX290cCcsXG4gICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgZGF0YTogeyBcbiAgICAgICAgICAgICAgICBmaXJzdG5hbWU6IGZpcnN0TmFtZSwgXG4gICAgICAgICAgICAgICAgbGFzdG5hbWU6IGxhc3ROYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgICAgICB0ZWxlcGhvbmU6IHBob25lLFxuICAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogY29tcGFueU5hbWUsXG4gICAgICAgICAgICAgICAgY29tcGFueV9hZGRyZXNzOiBjb21wYW55QWRkcmVzcyxcbiAgICAgICAgICAgICAgICBjdXN0b21lcl9ncm91cF9pZDogYnVzaW5lc3NUeXBlLFxuICAgICAgICAgICAgICAgIGhvdXNlX2J1aWxkaW5nOiBidWlsZGluZ05hbWUsXG4gICAgICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzc0xpbmUsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICBjb25maXJtOiBwYXNzd29yZENvbmZpcm1hdGlvblxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoanNvbikge1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRleHQoJ1NJR04gVVAnKTtcbiAgICAgICAgICAgICAgICByZWdpc3RlckJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcblxuICAgICAgICAgICAgICAgIGlmIChqc29uWydzdGF0dXMnXSkge1xuICAgICAgICAgICAgICAgICAgaXppVG9hc3Quc3VjY2Vzcyh7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBqc29uWydzdWNjZXNzX21lc3NhZ2UnXVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvblZpZXcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgb3RwVmlldy5zaG93KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1dlIGNvdWxkblxcJ3QgY3JlYXRlIHlvdXIgYWNjb3VudCdcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBPVFAgVmVyaWZpY2F0aW9uXG4gICAgJChkb2N1bWVudCkuZGVsZWdhdGUoJyNvdHAtdmVyaWZ5LWJ1dHRvbicsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGNvbnN0IGZpcnN0TmFtZSA9ICQoJyNyZWdpc3Rlci1maXJzdC1uYW1lJykudmFsKCk7XG4gICAgICBjb25zdCBsYXN0TmFtZSA9ICQoJyNyZWdpc3Rlci1sYXN0LW5hbWUnKS52YWwoKTtcbiAgICAgIGNvbnN0IGVtYWlsID0gJCgnI3JlZ2lzdGVyLWVtYWlsJykudmFsKCk7XG4gICAgICBjb25zdCBwaG9uZSA9ICQoJyNyZWdpc3Rlci1waG9uZScpLnZhbCgpO1xuICAgICAgY29uc3QgY29tcGFueU5hbWUgPSAkKCcjcmVnaXN0ZXItY29tcGFueS1uYW1lJykudmFsKCk7IFxuICAgICAgY29uc3QgY29tcGFueUFkZHJlc3MgPSAkKCcjcmVnaXN0ZXItY29tcGFueS1hZGRyZXNzJykudmFsKCk7XG4gICAgICBjb25zdCBidXNpbmVzc1R5cGUgPSAkKCcjcmVnaXN0ZXItYnVzaW5lc3MtdHlwZScpLnZhbCgpO1xuICAgICAgY29uc3QgYnVpbGRpbmdOYW1lID0gJCgnI3JlZ2lzdGVyLWJ1aWxkaW5nLW5hbWUnKS52YWwoKTtcbiAgICAgIGNvbnN0IGFkZHJlc3NMaW5lID0gJCgnI3JlZ2lzdGVyLWFkZHJlc3MtbGluZScpLnZhbCgpO1xuICAgICAgY29uc3QgbG9jYXRpb24gPSAkKCcjcmVnaXN0ZXItbG9jYXRpb24nKS52YWwoKTtcbiAgICAgIGNvbnN0IHBhc3N3b3JkID0gJCgnI3JlZ2lzdGVyLXBhc3N3b3JkJykudmFsKCk7XG4gICAgICBjb25zdCBwYXNzd29yZENvbmZpcm1hdGlvbiA9ICQoJyNyZWdpc3Rlci1wYXNzd29yZC1jb25maXJtJykudmFsKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IG90cCA9ICQoJyNvdHAtdmFsdWUnKS52YWwoKTtcbiAgICAgIGNvbnN0IHZlcmlmeUJ1dHRvbiA9ICQoJyNvdHAtdmVyaWZ5LWJ1dHRvbicpO1xuXG4gICAgICBpZihvdHAubGVuZ3RoID4gMykge1xuICAgICAgICB2ZXJpZnlCdXR0b24udGV4dCgnUExFQVNFIFdBSVQnKTtcbiAgICAgICAgdmVyaWZ5QnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9YWNjb3VudC9yZWdpc3Rlci9yZWdpc3Rlcl92ZXJpZnlfb3RwJyxcbiAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICBkYXRhOiB7IFxuICAgICAgICAgICAgZmlyc3RuYW1lOiBmaXJzdE5hbWUsIFxuICAgICAgICAgICAgbGFzdG5hbWU6IGxhc3ROYW1lLFxuICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgdGVsZXBob25lOiBwaG9uZSxcbiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogY29tcGFueU5hbWUsXG4gICAgICAgICAgICBjb21wYW55X2FkZHJlc3M6IGNvbXBhbnlBZGRyZXNzLFxuICAgICAgICAgICAgY3VzdG9tZXJfZ3JvdXBfaWQ6IGJ1c2luZXNzVHlwZSxcbiAgICAgICAgICAgIGhvdXNlX2J1aWxkaW5nOiBidWlsZGluZ05hbWUsXG4gICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzTGluZSxcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgICAgIGNvbmZpcm06IHBhc3N3b3JkQ29uZmlybWF0aW9uLFxuICAgICAgICAgICAgc2lnbnVwX290cDogb3RwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoanNvbikge1xuICAgICAgICAgICAgdmVyaWZ5QnV0dG9uLnRleHQoJ1ZFUklGWScpO1xuICAgICAgICAgICAgdmVyaWZ5QnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgJCgnI290cC12YWx1ZScpLnZhbCgnJyk7XG5cbiAgICAgICAgICAgIGlmIChqc29uWydzdGF0dXMnXSkge1xuICAgICAgICAgICAgICBpemlUb2FzdC5zdWNjZXNzKHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBqc29uWydzdWNjZXNzX21lc3NhZ2UnXVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdXZSBjb3VsZG5cXCd0IHZlcmlmeSB5b3VyIGFjY291bnQuIFBsZWFzZSBjaGVjayB0aGUgT1RQJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXppVG9hc3QuZXJyb3Ioe1xuICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBPVFAnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnI2ZvcmdvdC1wYXNzd29yZC1idG4nKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICQoJyNsb2dpbi12aWV3JykuaGlkZSgpO1xuICAgICAgJCgnI2ZvcmdvdC1wYXNzd29yZC12aWV3Jykuc2hvdygpO1xuICAgICAgXG4gICAgfSk7XG5cbiAgICAkKCcjcGFzc3dvcmQtcmVzZXQtYnV0dG9uJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBjb25zdCBlbWFpbCA9ICQoJyNyZXNldC1wYXNzd29yZC1lbWFpbCcpLnZhbCgpO1xuICAgICAgY29uc3QgcmVzZXRCdXR0b24gPSAkKCcjcGFzc3dvcmQtcmVzZXQtYnV0dG9uJyk7XG5cbiAgICAgIGlmKGVtYWlsLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xuICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgeW91ciBhY2NvdW50IGVtYWlsJ1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc2V0QnV0dG9uLnRleHQoJ1BMRUFTRSBXQUlUJyk7XG4gICAgICAgIHJlc2V0QnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xuICBcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB1cmw6ICdpbmRleC5waHA/cGF0aD1hY2NvdW50L2ZvcmdvdHRlbicsXG4gICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgZGF0YTogeyBcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgICAgIHJlc2V0QnV0dG9uLnRleHQoJ1JFU0VUIFBBU1NXT1JEJyk7XG4gICAgICAgICAgICByZXNldEJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICQoJyNyZXNldC1wYXNzd29yZC1lbWFpbCcpLnZhbCgnJyk7XG4gIFxuICAgICAgICAgICAgaWYgKGpzb25bJ3N0YXR1cyddKSB7XG4gICAgICAgICAgICAgIGl6aVRvYXN0LnN1Y2Nlc3Moe1xuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ3RleHRfbWVzc2FnZSddXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ1dlIGNvdWxkblxcJ3QgZmluZCBhbiBhY2NvdW50IHdpdGggdGhhdCBlbWFpbCBhZGRyZXNzJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxufSkoalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcbiJdfQ==
