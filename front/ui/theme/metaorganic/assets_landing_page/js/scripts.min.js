/*!
 * kwikbasket
 * KwikBasket Landing Page
 * 
 * @author KwikBasket
 * @version 1.0.0
 * Copyright 2020. MIT licensed.
 */
!function(e,t,s,a){"use strict";e(function(){e(s).scroll(function(){var t=e(".fixed-top");t.toggleClass("scrolled",e(this).scrollTop()>t.height())}),e(".nav-link, .navbar-brand").click(function(){var t=e(this).attr("href");e("html, body").animate({scrollTop:e(t).offset().top},700)}),ScrollOut(),gsap.to(".anim-from-top",{opacity:1,y:0,duration:.5,ease:"elastic"}),gsap.to(".anim-from-bottom",{y:0,duration:.5}),e(s).delegate("#login-button","click",function(t){t.preventDefault();const s=e("#login-button"),a=e("#login-email").val(),i=e("#login-password").val();a.length>0&&i.length>0?(s.text("PLEASE WAIT"),s.toggleClass("disabled"),e.ajax({url:"index.php?path=account/login/login",type:"post",data:{email:a,password:i},dataType:"json",success:function(t){t.status?"1"==t.temppassword?(location=e(".base_url").attr("href")+"/changepass",console.log(e(".base_url"))):location=e(".base_url").attr("href"):(iziToast.error({position:"topRight",message:"Incorrect email or password"}),s.text("LOGIN"),s.toggleClass("disabled"))}})):iziToast.warning({position:"topRight",message:"Please enter your email and password"})}),e("#register-phone").keyup(function(e){/\D/g.test(this.value)&&(this.value=this.value.replace(/\D/g,""))}),e(s).delegate("#register-button","click",function(t){t.preventDefault();const s=e("#register-first-name").val(),a=e("#register-last-name").val(),i=e("#register-email").val(),o=e("#register-phone").val(),r=e("#register-company-name").val(),n=e("#register-company-address").val(),l=e("#register-business-type").val(),g=e("#register-building-name").val(),p=e("#register-address-line").val(),c=e("#register-location").val(),u=e("#register-password").val(),d=e("#register-password-confirm").val(),m=e("#registration-view"),f=e("#otp-view"),h=e("#register-button"),v=e("#register-form")[0],w=v.reportValidity();w&&(d!==u?iziToast.warning({position:"topRight",message:"Passwords do no match"}):""==grecaptcha.getResponse()?iziToast.warning({position:"topRight",message:"Please complete captcha"}):(h.text("PLEASE WAIT"),h.toggleClass("disabled"),e.ajax({url:"index.php?path=account/register/register_send_otp",type:"POST",dataType:"json",data:{firstname:s,lastname:a,email:i,telephone:o,company_name:r,company_address:n,customer_group_id:l,house_building:g,address:p,location:c,password:u,confirm:d},success:function(e){h.text("SIGN UP"),h.toggleClass("disabled"),e.status?(iziToast.success({position:"topRight",message:e.success_message}),m.hide(),f.show()):iziToast.warning({position:"topRight",title:"Oops",message:"We couldn't create your account"})}})))}),e(s).delegate("#otp-verify-button","click",function(t){t.preventDefault();const s=e("#register-first-name").val(),a=e("#register-last-name").val(),i=e("#register-email").val(),o=e("#register-phone").val(),r=e("#register-company-name").val(),n=e("#register-company-address").val(),l=e("#register-business-type").val(),g=e("#register-building-name").val(),p=e("#register-address-line").val(),c=e("#register-location").val(),u=e("#register-password").val(),d=e("#register-password-confirm").val(),m=e("#otp-value").val(),f=e("#otp-verify-button");m.length>3?(f.text("PLEASE WAIT"),f.toggleClass("disabled"),e.ajax({url:"index.php?path=account/register/register_verify_otp",type:"POST",dataType:"json",data:{firstname:s,lastname:a,email:i,telephone:o,company_name:r,company_address:n,customer_group_id:l,house_building:g,address:p,location:c,password:u,confirm:d,signup_otp:m},success:function(t){f.text("VERIFY"),f.toggleClass("disabled"),e("#otp-value").val(""),t.status?iziToast.success({timeout:!1,position:"topRight",message:t.success_message}):iziToast.warning({position:"topRight",message:"We couldn't verify your account. Please check the OTP"})}})):iziToast.error({position:"topRight",message:"Please enter a valid OTP"})}),e("#forgot-password-btn").click(function(t){t.preventDefault(),e("#login-view").hide(),e("#forgot-password-view").show()}),e("#password-reset-button").click(function(t){t.preventDefault();const s=e("#reset-password-email").val(),a=e("#password-reset-button");0==s.length?iziToast.warning({position:"topRight",message:"Please enter your account email"}):(a.text("PLEASE WAIT"),a.toggleClass("disabled"),e.ajax({url:"index.php?path=account/forgotten",type:"POST",dataType:"json",data:{email:s},success:function(t){a.text("RESET PASSWORD"),a.toggleClass("disabled"),e("#reset-password-email").val(""),t.status?iziToast.success({timeout:!1,position:"topRight",message:t.text_message}):iziToast.warning({position:"topRight",message:"We couldn't find an account with that email address"})}}))}),e("#farmer-register-button").click(function(t){t.preventDefault();e("#farmer-first-name").val(),e("#farmer-last-name").val(),e("#farmer-email").val(),e("#farmer-phone").val(),e("#farmer-type").val(),e("#farmer-location").val(),e("farmer-produce-grown").val(),e("#farmer-register-button");""==grecaptcha.getResponse()?iziToast.warning({position:"topRight",message:"Please complete captcha"}):e("#farmer-registration-form")[0].reportValidity()&&(iziToast.success({position:"topRight",message:"Thanks for registering. We'll get in touch"}),e("#farmer-registration-form")[0].reset())})})}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwic2Nyb2xsIiwiJG5hdiIsInRvZ2dsZUNsYXNzIiwidGhpcyIsInNjcm9sbFRvcCIsImhlaWdodCIsImNsaWNrIiwic2VjdGlvblRvIiwiYXR0ciIsImFuaW1hdGUiLCJvZmZzZXQiLCJ0b3AiLCJTY3JvbGxPdXQiLCJnc2FwIiwidG8iLCJvcGFjaXR5IiwieSIsImR1cmF0aW9uIiwiZWFzZSIsImRlbGVnYXRlIiwiZSIsInByZXZlbnREZWZhdWx0IiwibG9naW5CdXR0b24iLCJlbWFpbCIsInZhbCIsInBhc3N3b3JkIiwibGVuZ3RoIiwidGV4dCIsImFqYXgiLCJ1cmwiLCJ0eXBlIiwiZGF0YSIsImRhdGFUeXBlIiwic3VjY2VzcyIsImpzb24iLCJsb2NhdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJpemlUb2FzdCIsImVycm9yIiwicG9zaXRpb24iLCJtZXNzYWdlIiwid2FybmluZyIsImtleXVwIiwidGVzdCIsInZhbHVlIiwicmVwbGFjZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwicGhvbmUiLCJjb21wYW55TmFtZSIsImNvbXBhbnlBZGRyZXNzIiwiYnVzaW5lc3NUeXBlIiwiYnVpbGRpbmdOYW1lIiwiYWRkcmVzc0xpbmUiLCJwYXNzd29yZENvbmZpcm1hdGlvbiIsInJlZ2lzdHJhdGlvblZpZXciLCJvdHBWaWV3IiwicmVnaXN0ZXJCdXR0b24iLCJyZWdpc3RlckZvcm0iLCJmb3JtSXNWYWxpZCIsInJlcG9ydFZhbGlkaXR5IiwiZ3JlY2FwdGNoYSIsImdldFJlc3BvbnNlIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJ0ZWxlcGhvbmUiLCJjb21wYW55X25hbWUiLCJjb21wYW55X2FkZHJlc3MiLCJjdXN0b21lcl9ncm91cF9pZCIsImhvdXNlX2J1aWxkaW5nIiwiYWRkcmVzcyIsImNvbmZpcm0iLCJoaWRlIiwic2hvdyIsInRpdGxlIiwib3RwIiwidmVyaWZ5QnV0dG9uIiwic2lnbnVwX290cCIsInRpbWVvdXQiLCJyZXNldEJ1dHRvbiIsInJlc2V0IiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztDQUFBLFNBQUFBLEVBQUFDLEVBQUFDLEVBQUFDLEdBRUEsWUFFQUgsR0FBQSxXQUVBQSxFQUFBRSxHQUFBRSxPQUFBLFdBQ0EsR0FBQUMsR0FBQUwsRUFBQSxhQUNBSyxHQUFBQyxZQUFBLFdBQUFOLEVBQUFPLE1BQUFDLFlBQUFILEVBQUFJLFlBSUFULEVBQUEsNEJBQUFVLE1BQUEsV0FDQSxHQUFBQyxHQUFBWCxFQUFBTyxNQUFBSyxLQUFBLE9BQ0FaLEdBQUEsY0FBQWEsU0FDQUwsVUFBQVIsRUFBQVcsR0FBQUcsU0FBQUMsS0FDQSxPQUlBQyxZQUdBQyxLQUFBQyxHQUFBLGtCQUNBQyxRQUFBLEVBQ0FDLEVBQUEsRUFDQUMsU0FBQSxHQUNBQyxLQUFBLFlBR0FMLEtBQUFDLEdBQUEscUJBQ0FFLEVBQUEsRUFDQUMsU0FBQSxLQUlBckIsRUFBQUUsR0FBQXFCLFNBQUEsZ0JBQUEsUUFBQSxTQUFBQyxHQUNBQSxFQUFBQyxnQkFFQSxNQUFBQyxHQUFBMUIsRUFBQSxpQkFDQTJCLEVBQUEzQixFQUFBLGdCQUFBNEIsTUFDQUMsRUFBQTdCLEVBQUEsbUJBQUE0QixLQUVBRCxHQUFBRyxPQUFBLEdBQUFELEVBQUFDLE9BQUEsR0FDQUosRUFBQUssS0FBQSxlQUNBTCxFQUFBcEIsWUFBQSxZQUNBTixFQUFBZ0MsTUFDQUMsSUFBQSxxQ0FDQUMsS0FBQSxPQUNBQyxNQUFBUixNQUFBQSxFQUFBRSxTQUFBQSxHQUNBTyxTQUFBLE9BQ0FDLFFBQUEsU0FBQUMsR0FDQUEsRUFBQSxPQUNBLEtBQUFBLEVBQUEsY0FDQUMsU0FBQXZDLEVBQUEsYUFBQVksS0FBQSxRQUFBLGNBQ0E0QixRQUFBQyxJQUFBekMsRUFBQSxlQUdBdUMsU0FBQXZDLEVBQUEsYUFBQVksS0FBQSxTQUdBOEIsU0FBQUMsT0FDQUMsU0FBQSxXQUNBQyxRQUFBLGdDQUVBbkIs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c0JBQUE0QixNQUNBNUIsRUFBQSxxQkFBQTRCLE1BQ0E1QixFQUFBLGlCQUFBNEIsTUFDQTVCLEVBQUEsaUJBQUE0QixNQUNBNUIsRUFBQSxnQkFBQTRCLE1BQ0E1QixFQUFBLG9CQUFBNEIsTUFDQTVCLEVBQUEsd0JBQUE0QixNQUVBNUIsRUFBQSwwQkFFQSxLQUFBa0UsV0FBQUMsY0FDQXpCLFNBQUFJLFNBQ0FGLFNBQUEsV0FDQUMsUUFBQSw0QkFHQTdDLEVBQUEsNkJBQUEsR0FBQWlFLG1CQUNBdkIsU0FBQUwsU0FDQU8sU0FBQSxXQUNBQyxRQUFBLCtDQUdBN0MsRUFBQSw2QkFBQSxHQUFBcUYsY0F1Q0FDLE9BQUFyRixPQUFBQyIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gICQoZnVuY3Rpb24gKCkge1xuICAgIC8vIENoYW5nZSBuYXZiYXIgc3R5bGUgb24gc2Nyb2xsXG4gICAgJChkb2N1bWVudCkuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkbmF2ID0gJCgnLmZpeGVkLXRvcCcpO1xuICAgICAgJG5hdi50b2dnbGVDbGFzcygnc2Nyb2xsZWQnLCAkKHRoaXMpLnNjcm9sbFRvcCgpID4gJG5hdi5oZWlnaHQoKSk7XG4gICAgfSk7XG5cbiAgICAvLyBOYXYgbGlua3Mgc2Nyb2xsIGFuaW1hdGlvblxuICAgICQoJy5uYXYtbGluaywgLm5hdmJhci1icmFuZCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzZWN0aW9uVG8gPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgc2Nyb2xsVG9wOiAkKHNlY3Rpb25Ubykub2Zmc2V0KCkudG9wXG4gICAgICB9LCA3MDApO1xuICAgIH0pO1xuXG4gICAgLy8gTGFuZGluZyBwYWdlIHNjcm9sbCBhbmltYXRpb25zXG4gICAgU2Nyb2xsT3V0KCk7XG5cbiAgICAvLyBIZXJvIHNlY3Rpb24gYW5pbWF0aW9uXG4gICAgZ3NhcC50bygnLmFuaW0tZnJvbS10b3AnLCB7XG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgeTogMCwgXG4gICAgICBkdXJhdGlvbjogLjUsXG4gICAgICBlYXNlOiAnZWxhc3RpYydcbiAgICB9KTtcblxuICAgIGdzYXAudG8oJy5hbmltLWZyb20tYm90dG9tJywge1xuICAgICAgeTogMCwgXG4gICAgICBkdXJhdGlvbjogLjVcbiAgICB9KTtcblxuICAgIC8vIEN1c3RvbWVyIExvZ2luXG4gICAgJChkb2N1bWVudCkuZGVsZWdhdGUoJyNsb2dpbi1idXR0b24nLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBjb25zdCBsb2dpbkJ1dHRvbiA9ICQoJyNsb2dpbi1idXR0b24nKTtcbiAgICAgIGNvbnN0IGVtYWlsID0gJCgnI2xvZ2luLWVtYWlsJykudmFsKCk7XG4gICAgICBjb25zdCBwYXNzd29yZCA9ICQoJyNsb2dpbi1wYXNzd29yZCcpLnZhbCgpO1xuXG4gICAgICBpZihlbWFpbC5sZW5ndGggPiAwICYmIHBhc3N3b3JkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbG9naW5CdXR0b24udGV4dCgnUExFQVNFIFdBSVQnKTtcbiAgICAgICAgbG9naW5CdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9YWNjb3VudC9sb2dpbi9sb2dpbicsXG4gICAgICAgICAgdHlwZTogJ3Bvc3QnLFxuICAgICAgICAgIGRhdGE6IHsgZW1haWw6IGVtYWlsLCBwYXNzd29yZDogcGFzc3dvcmQgfSxcbiAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgICAgICBpZiAoanNvblsnc3RhdHVzJ10pIHtcbiAgICAgICAgICAgICAgaWYgKGpzb25bJ3RlbXBwYXNzd29yZCddID09ICcxJykge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gJCgnLmJhc2VfdXJsJykuYXR0cignaHJlZicpICsgJy9jaGFuZ2VwYXNzJztcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygkKCcuYmFzZV91cmwnKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24gPSAkKCcuYmFzZV91cmwnKS5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGl6aVRvYXN0LmVycm9yKHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnSW5jb3JyZWN0IGVtYWlsIG9yIHBhc3N3b3JkJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgbG9naW5CdXR0b24udGV4dCgnTE9HSU4nKTtcbiAgICAgICAgICAgICAgbG9naW5CdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xuICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgeW91ciBlbWFpbCBhbmQgcGFzc3dvcmQnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQ3VzdG9tZXIgUmVnaXN0cmF0aW9uXG5cbiAgICAkKCcjcmVnaXN0ZXItcGhvbmUnKS5rZXl1cChmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoL1xcRC9nLnRlc3QodGhpcy52YWx1ZSkpIHtcbiAgICAgICAgLy8gRmlsdGVyIG91dCBub24tZGlnaXRzIGZyb20gaW5wdXQgdmFsdWVcbiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUucmVwbGFjZSgvXFxEL2csICcnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLmRlbGVnYXRlKCcjcmVnaXN0ZXItYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgY29uc3QgZmlyc3ROYW1lID0gJCgnI3JlZ2lzdGVyLWZpcnN0LW5hbWUnKS52YWwoKTtcbiAgICAgIGNvbnN0IGxhc3ROYW1lID0gJCgnI3JlZ2lzdGVyLWxhc3QtbmFtZScpLnZhbCgpO1xuICAgICAgY29uc3QgZW1haWwgPSAkKCcjcmVnaXN0ZXItZW1haWwnKS52YWwoKTtcbiAgICAgIGNvbnN0IHBob25lID0gJCgnI3JlZ2lzdGVyLXBob25lJykudmFsKCk7XG4gICAgICBjb25zdCBjb21wYW55TmFtZSA9ICQoJyNyZWdpc3Rlci1jb21wYW55LW5hbWUnKS52YWwoKTsgXG4gICAgICBjb25zdCBjb21wYW55QWRkcmVzcyA9ICQoJyNyZWdpc3Rlci1jb21wYW55LWFkZHJlc3MnKS52YWwoKTtcbiAgICAgIGNvbnN0IGJ1c2luZXNzVHlwZSA9ICQoJyNyZWdpc3Rlci1idXNpbmVzcy10eXBlJykudmFsKCk7XG4gICAgICBjb25zdCBidWlsZGluZ05hbWUgPSAkKCcjcmVnaXN0ZXItYnVpbGRpbmctbmFtZScpLnZhbCgpO1xuICAgICAgY29uc3QgYWRkcmVzc0xpbmUgPSAkKCcjcmVnaXN0ZXItYWRkcmVzcy1saW5lJykudmFsKCk7XG4gICAgICBjb25zdCBsb2NhdGlvbiA9ICQoJyNyZWdpc3Rlci1sb2NhdGlvbicpLnZhbCgpO1xuICAgICAgY29uc3QgcGFzc3dvcmQgPSAkKCcjcmVnaXN0ZXItcGFzc3dvcmQnKS52YWwoKTtcbiAgICAgIGNvbnN0IHBhc3N3b3JkQ29uZmlybWF0aW9uID0gJCgnI3JlZ2lzdGVyLXBhc3N3b3JkLWNvbmZpcm0nKS52YWwoKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVnaXN0cmF0aW9uVmlldyA9ICQoJyNyZWdpc3RyYXRpb24tdmlldycpO1xuICAgICAgY29uc3Qgb3RwVmlldyA9ICQoJyNvdHAtdmlldycpO1xuXG4gICAgICBjb25zdCByZWdpc3RlckJ1dHRvbiA9ICQoJyNyZWdpc3Rlci1idXR0b24nKTtcbiAgICAgIGNvbnN0IHJlZ2lzdGVyRm9ybSA9ICQoJyNyZWdpc3Rlci1mb3JtJylbMF07XG4gICAgICBjb25zdCBmb3JtSXNWYWxpZCA9IHJlZ2lzdGVyRm9ybS5yZXBvcnRWYWxpZGl0eSgpO1xuXG4gICAgICBpZihmb3JtSXNWYWxpZCkge1xuICAgICAgICBpZihwYXNzd29yZENvbmZpcm1hdGlvbiAhPT0gcGFzc3dvcmQpIHtcbiAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1Bhc3N3b3JkcyBkbyBubyBtYXRjaCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZihncmVjYXB0Y2hhLmdldFJlc3BvbnNlKCkgPT0gJycpIHtcbiAgICAgICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xuICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcbiAgICAgICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBjb21wbGV0ZSBjYXB0Y2hhJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRleHQoJ1BMRUFTRSBXQUlUJyk7XG4gICAgICAgICAgICByZWdpc3RlckJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9YWNjb3VudC9yZWdpc3Rlci9yZWdpc3Rlcl9zZW5kX290cCcsXG4gICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgZGF0YTogeyBcbiAgICAgICAgICAgICAgICBmaXJzdG5hbWU6IGZpcnN0TmFtZSwgXG4gICAgICAgICAgICAgICAgbGFzdG5hbWU6IGxhc3ROYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgICAgICB0ZWxlcGhvbmU6IHBob25lLFxuICAgICAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogY29tcGFueU5hbWUsXG4gICAgICAgICAgICAgICAgY29tcGFueV9hZGRyZXNzOiBjb21wYW55QWRkcmVzcyxcbiAgICAgICAgICAgICAgICBjdXN0b21lcl9ncm91cF9pZDogYnVzaW5lc3NUeXBlLFxuICAgICAgICAgICAgICAgIGhvdXNlX2J1aWxkaW5nOiBidWlsZGluZ05hbWUsXG4gICAgICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzc0xpbmUsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICBjb25maXJtOiBwYXNzd29yZENvbmZpcm1hdGlvblxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoanNvbikge1xuICAgICAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRleHQoJ1NJR04gVVAnKTtcbiAgICAgICAgICAgICAgICByZWdpc3RlckJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcblxuICAgICAgICAgICAgICAgIGlmIChqc29uWydzdGF0dXMnXSkge1xuICAgICAgICAgICAgICAgICAgaXppVG9hc3Quc3VjY2Vzcyh7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBqc29uWydzdWNjZXNzX21lc3NhZ2UnXVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvblZpZXcuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgb3RwVmlldy5zaG93KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzJyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1dlIGNvdWxkblxcJ3QgY3JlYXRlIHlvdXIgYWNjb3VudCdcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBPVFAgVmVyaWZpY2F0aW9uXG4gICAgJChkb2N1bWVudCkuZGVsZWdhdGUoJyNvdHAtdmVyaWZ5LWJ1dHRvbicsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGNvbnN0IGZpcnN0TmFtZSA9ICQoJyNyZWdpc3Rlci1maXJzdC1uYW1lJykudmFsKCk7XG4gICAgICBjb25zdCBsYXN0TmFtZSA9ICQoJyNyZWdpc3Rlci1sYXN0LW5hbWUnKS52YWwoKTtcbiAgICAgIGNvbnN0IGVtYWlsID0gJCgnI3JlZ2lzdGVyLWVtYWlsJykudmFsKCk7XG4gICAgICBjb25zdCBwaG9uZSA9ICQoJyNyZWdpc3Rlci1waG9uZScpLnZhbCgpO1xuICAgICAgY29uc3QgY29tcGFueU5hbWUgPSAkKCcjcmVnaXN0ZXItY29tcGFueS1uYW1lJykudmFsKCk7IFxuICAgICAgY29uc3QgY29tcGFueUFkZHJlc3MgPSAkKCcjcmVnaXN0ZXItY29tcGFueS1hZGRyZXNzJykudmFsKCk7XG4gICAgICBjb25zdCBidXNpbmVzc1R5cGUgPSAkKCcjcmVnaXN0ZXItYnVzaW5lc3MtdHlwZScpLnZhbCgpO1xuICAgICAgY29uc3QgYnVpbGRpbmdOYW1lID0gJCgnI3JlZ2lzdGVyLWJ1aWxkaW5nLW5hbWUnKS52YWwoKTtcbiAgICAgIGNvbnN0IGFkZHJlc3NMaW5lID0gJCgnI3JlZ2lzdGVyLWFkZHJlc3MtbGluZScpLnZhbCgpO1xuICAgICAgY29uc3QgbG9jYXRpb24gPSAkKCcjcmVnaXN0ZXItbG9jYXRpb24nKS52YWwoKTtcbiAgICAgIGNvbnN0IHBhc3N3b3JkID0gJCgnI3JlZ2lzdGVyLXBhc3N3b3JkJykudmFsKCk7XG4gICAgICBjb25zdCBwYXNzd29yZENvbmZpcm1hdGlvbiA9ICQoJyNyZWdpc3Rlci1wYXNzd29yZC1jb25maXJtJykudmFsKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IG90cCA9ICQoJyNvdHAtdmFsdWUnKS52YWwoKTtcbiAgICAgIGNvbnN0IHZlcmlmeUJ1dHRvbiA9ICQoJyNvdHAtdmVyaWZ5LWJ1dHRvbicpO1xuXG4gICAgICBpZihvdHAubGVuZ3RoID4gMykge1xuICAgICAgICB2ZXJpZnlCdXR0b24udGV4dCgnUExFQVNFIFdBSVQnKTtcbiAgICAgICAgdmVyaWZ5QnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9YWNjb3VudC9yZWdpc3Rlci9yZWdpc3Rlcl92ZXJpZnlfb3RwJyxcbiAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICBkYXRhOiB7IFxuICAgICAgICAgICAgZmlyc3RuYW1lOiBmaXJzdE5hbWUsIFxuICAgICAgICAgICAgbGFzdG5hbWU6IGxhc3ROYW1lLFxuICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgdGVsZXBob25lOiBwaG9uZSxcbiAgICAgICAgICAgIGNvbXBhbnlfbmFtZTogY29tcGFueU5hbWUsXG4gICAgICAgICAgICBjb21wYW55X2FkZHJlc3M6IGNvbXBhbnlBZGRyZXNzLFxuICAgICAgICAgICAgY3VzdG9tZXJfZ3JvdXBfaWQ6IGJ1c2luZXNzVHlwZSxcbiAgICAgICAgICAgIGhvdXNlX2J1aWxkaW5nOiBidWlsZGluZ05hbWUsXG4gICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzTGluZSxcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgICAgIGNvbmZpcm06IHBhc3N3b3JkQ29uZmlybWF0aW9uLFxuICAgICAgICAgICAgc2lnbnVwX290cDogb3RwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoanNvbikge1xuICAgICAgICAgICAgdmVyaWZ5QnV0dG9uLnRleHQoJ1ZFUklGWScpO1xuICAgICAgICAgICAgdmVyaWZ5QnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgJCgnI290cC12YWx1ZScpLnZhbCgnJyk7XG5cbiAgICAgICAgICAgIGlmIChqc29uWydzdGF0dXMnXSkge1xuICAgICAgICAgICAgICBpemlUb2FzdC5zdWNjZXNzKHtcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBqc29uWydzdWNjZXNzX21lc3NhZ2UnXVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdXZSBjb3VsZG5cXCd0IHZlcmlmeSB5b3VyIGFjY291bnQuIFBsZWFzZSBjaGVjayB0aGUgT1RQJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXppVG9hc3QuZXJyb3Ioe1xuICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBPVFAnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnI2ZvcmdvdC1wYXNzd29yZC1idG4nKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICQoJyNsb2dpbi12aWV3JykuaGlkZSgpO1xuICAgICAgJCgnI2ZvcmdvdC1wYXNzd29yZC12aWV3Jykuc2hvdygpO1xuICAgICAgXG4gICAgfSk7XG5cbiAgICAkKCcjcGFzc3dvcmQtcmVzZXQtYnV0dG9uJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBjb25zdCBlbWFpbCA9ICQoJyNyZXNldC1wYXNzd29yZC1lbWFpbCcpLnZhbCgpO1xuICAgICAgY29uc3QgcmVzZXRCdXR0b24gPSAkKCcjcGFzc3dvcmQtcmVzZXQtYnV0dG9uJyk7XG5cbiAgICAgIGlmKGVtYWlsLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xuICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgeW91ciBhY2NvdW50IGVtYWlsJ1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc2V0QnV0dG9uLnRleHQoJ1BMRUFTRSBXQUlUJyk7XG4gICAgICAgIHJlc2V0QnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xuICBcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB1cmw6ICdpbmRleC5waHA/cGF0aD1hY2NvdW50L2ZvcmdvdHRlbicsXG4gICAgICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgZGF0YTogeyBcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgICAgIHJlc2V0QnV0dG9uLnRleHQoJ1JFU0VUIFBBU1NXT1JEJyk7XG4gICAgICAgICAgICByZXNldEJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICQoJyNyZXNldC1wYXNzd29yZC1lbWFpbCcpLnZhbCgnJyk7XG4gIFxuICAgICAgICAgICAgaWYgKGpzb25bJ3N0YXR1cyddKSB7XG4gICAgICAgICAgICAgIGl6aVRvYXN0LnN1Y2Nlc3Moe1xuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ3RleHRfbWVzc2FnZSddXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ1dlIGNvdWxkblxcJ3QgZmluZCBhbiBhY2NvdW50IHdpdGggdGhhdCBlbWFpbCBhZGRyZXNzJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnI2Zhcm1lci1yZWdpc3Rlci1idXR0b24nKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGNvbnN0IGZpcnN0TmFtZSA9ICQoJyNmYXJtZXItZmlyc3QtbmFtZScpLnZhbCgpO1xuICAgICAgY29uc3QgbGFzdE5hbWUgPSAkKCcjZmFybWVyLWxhc3QtbmFtZScpLnZhbCgpO1xuICAgICAgY29uc3QgZW1haWwgPSAkKCcjZmFybWVyLWVtYWlsJykudmFsKCk7XG4gICAgICBjb25zdCBwaG9uZSA9ICQoJyNmYXJtZXItcGhvbmUnKS52YWwoKTtcbiAgICAgIGNvbnN0IGZhcm1lclR5cGUgPSAkKCcjZmFybWVyLXR5cGUnKS52YWwoKTtcbiAgICAgIGNvbnN0IGZhcm1Mb2NhdGlvbiA9ICQoJyNmYXJtZXItbG9jYXRpb24nKS52YWwoKTtcbiAgICAgIGNvbnN0IHByb2R1Y2VEZXNjcmlwdGlvbiA9ICQoJ2Zhcm1lci1wcm9kdWNlLWdyb3duJykudmFsKCk7XG5cbiAgICAgIGNvbnN0IHJlZ2lzdGVyQnV0dG9uID0gJCgnI2Zhcm1lci1yZWdpc3Rlci1idXR0b24nKTtcblxuICAgICAgaWYoZ3JlY2FwdGNoYS5nZXRSZXNwb25zZSgpID09ICcnKSB7XG4gICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xuICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxuICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgY29tcGxldGUgY2FwdGNoYSdcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZigkKCcjZmFybWVyLXJlZ2lzdHJhdGlvbi1mb3JtJylbMF0ucmVwb3J0VmFsaWRpdHkoKSkge1xuICAgICAgICAgIGl6aVRvYXN0LnN1Y2Nlc3Moe1xuICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXG4gICAgICAgICAgICBtZXNzYWdlOiAnVGhhbmtzIGZvciByZWdpc3RlcmluZy4gV2VcXCdsbCBnZXQgaW4gdG91Y2gnXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAkKCcjZmFybWVyLXJlZ2lzdHJhdGlvbi1mb3JtJylbMF0ucmVzZXQoKTtcbiAgICAgICAgICAvLyByZWdpc3RlckJ1dHRvbi50ZXh0KCdQTEVBU0UgV0FJVCcpO1xuICAgICAgICAgIC8vIHJlZ2lzdGVyQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vICQuYWpheCh7XG4gICAgICAgICAgLy8gICB1cmw6ICdpbmRleC5waHA/cGF0aD1hY2NvdW50L2Zhcm1lcnJlZ2lzdGVyL3JlZ2lzdGVyJyxcbiAgICAgICAgICAvLyAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAvLyAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgLy8gICBkYXRhOiB7IFxuICAgICAgICAgIC8vICAgICBuYW1lOiBmaXJzdE5hbWUgKyAnICcgKyBsYXN0TmFtZSxcbiAgICAgICAgICAvLyAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgIC8vICAgICB0ZWxlcGhvbmU6IHBob25lXG4gICAgICAgICAgLy8gICB9LFxuICAgICAgICAgIC8vICAgc3VjY2VzczogZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgICAgICAvLyAgICAgcmVnaXN0ZXJCdXR0b24udGV4dCgnUkVHSVNURVInKTtcbiAgICAgICAgICAvLyAgICAgcmVnaXN0ZXJCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cbiAgICAgICAgICAvLyAgICAgaWYgKGpzb25bJ3N0YXR1cyddKSB7XG4gICAgICAgICAgLy8gICAgICAgaXppVG9hc3Quc3VjY2Vzcyh7XG4gICAgICAgICAgLy8gICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcbiAgICAgICAgICAvLyAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ3N1Y2Nlc3NfbWVzc2FnZSddXG4gICAgICAgICAgLy8gICAgICAgfSk7XG5cbiAgICAgICAgICAvLyAgICAgICAkKCcjZmFybWVyLXJlZ2lzdHJhdGlvbi1mb3JtJylbMF0ucmVzZXQoKTtcblxuICAgICAgICAgIC8vICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xuICAgICAgICAgIC8vICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXG4gICAgICAgICAgLy8gICAgICAgICB0aXRsZTogJ09vcHMnLFxuICAgICAgICAgIC8vICAgICAgICAgbWVzc2FnZTogJ1dlIGNvdWxkblxcJ3QgcmVnaXN0ZXIgeW91LiBQbGVhc2UgdHJ5IGFnYWluJ1xuICAgICAgICAgIC8vICAgICAgIH0pO1xuICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgLy8gICB9XG4gICAgICAgICAgLy8gfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG4iXX0=
