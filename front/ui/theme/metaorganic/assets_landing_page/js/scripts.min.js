/*!
 * kwikbasket
 * KwikBasket Landing Page
 * 
 * @author KwikBasket
 * @version 1.0.0
 * Copyright 2020. MIT licensed.
 */
!function(e,t,a,s){"use strict";function o(){navigator.geolocation?(console.log(1),navigator.geolocation.getCurrentPosition(i,null,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})):(console.log(2),console.log("Geolocation is not supported by this browser."),r.innerHTML=0,n.innerHTML=0)}function i(e){console.log("showPositionOnly"),console.log(e),r.innerHTML=e.coords.latitude,n.innerHTML=e.coords.longitude,console.log(e.coords.latitude),console.log(e.coords.longitude)}e(function(){e(a).scroll(function(){var t=e(".fixed-top");t.toggleClass("scrolled",e(this).scrollTop()>t.height())}),e(".nav-link, .navbar-brand").click(function(){var t=e(this).attr("href");e("html, body").animate({scrollTop:e(t).offset().top},700)}),ScrollOut(),gsap.to(".anim-from-top",{opacity:1,y:0,duration:.5,ease:"elastic"}),gsap.to(".anim-from-bottom",{y:0,duration:.5}),e(a).delegate("#login-button","click",function(a){o(),a.preventDefault();const s=e("#login-button"),i=e("#lat").val(),r=e("#lng").val(),n=e("#login-email").val(),l=e("#login-password").val();n.length>0&&l.length>0?(s.text("PLEASE WAIT"),s.toggleClass("disabled"),e.ajax({url:"index.php?path=account/login/login",type:"post",data:{email:n,password:l,login_latitude:i,login_longitude:r,login_mode:"web"},dataType:"json",success:function(a){a.status?null!=a.redirect?t.location.href=a.redirect:"1"==a.temppassword?(location=e(".base_url").attr("href")+"/changepass",console.log(e(".base_url"))):location=e(".base_url").attr("href"):(iziToast.error({position:"topRight",message:a.error_warning}),s.text("LOGIN"),s.toggleClass("disabled"))}})):iziToast.warning({position:"topRight",message:"Please enter your email and password"})}),e("#register-phone").keyup(function(e){/\D/g.test(this.value)&&(this.value=this.value.replace(/\D/g,""))}),e(a).delegate("#register-button","click",function(t){t.preventDefault();const a=e("#register-first-name").val(),s=e("#register-last-name").val(),o=e("#register-email").val(),i=e("#register-phone").val(),r=e("#register-company-name").val(),n=e("#register-company-address").val(),l=e("#register-business-type").val(),c=e("#register-building-name").val(),g=e("#register-address-line").val(),p=e("#register-location").val(),d=e("#register-password").val(),m=e("#register-password-confirm").val(),u=e("#registration-view"),v=e("#otp-view"),h=e("#register-button"),f=e("#register-form")[0],b=f.reportValidity();b&&(m!==d?iziToast.warning({position:"topRight",message:"Passwords do no match"}):""==grecaptcha.getResponse()?iziToast.warning({position:"topRight",message:"Please complete captcha"}):(h.text("PLEASE WAIT"),h.toggleClass("disabled"),e.ajax({url:"index.php?path=account/register/register_send_otp",type:"POST",dataType:"json",data:{firstname:a,lastname:s,email:o,telephone:i,company_name:r,company_address:n,customer_group_id:l,house_building:c,address:g,location:p,password:d,confirm:m},success:function(e){h.text("SIGN UP"),h.toggleClass("disabled"),e.status?(iziToast.success({position:"topRight",message:e.success_message}),u.hide(),v.show()):iziToast.warning({position:"topRight",title:"Oops",message:e.error_warning})}})))}),e(a).delegate("#otp-verify-button","click",function(a){a.preventDefault();const s=e("#register-first-name").val(),o=e("#register-last-name").val(),i=e("#register-email").val(),r=e("#register-phone").val(),n=e("#register-company-name").val(),l=e("#register-company-address").val(),c=e("#register-business-type").val(),g=e("#register-building-name").val(),p=e("#register-address-line").val(),d=e("#register-location").val(),m=e("#register-password").val(),u=e("#register-password-confirm").val(),v=e("#otp-value").val(),h=e("#otp-verify-button");v.length>3?(h.text("PLEASE WAIT"),h.toggleClass("disabled"),e.ajax({url:"index.php?path=account/register/register_verify_otp",type:"POST",dataType:"json",data:{firstname:s,lastname:o,email:i,telephone:r,company_name:n,company_address:l,customer_group_id:c,house_building:g,address:p,location:d,password:m,confirm:u,signup_otp:v},success:function(a){h.text("VERIFY"),h.toggleClass("disabled"),e("#otp-value").val(""),a.status?(iziToast.success({timeout:!1,position:"topRight",message:a.success_message}),setTimeout(function(){t.location=e(".base_url").attr("href")},3e3)):iziToast.warning({position:"topRight",message:"We couldn't verify your account. Please check the OTP"})}})):iziToast.error({position:"topRight",message:"Please enter a valid OTP"})}),e(a).delegate("#careers-submit-button","click",function(t){t.preventDefault();const a=e("#careers-first-name").val(),s=e("#careers-last-name").val(),o=e("#careers-designation").val(),i=e("#careers-about-yourself").val(),r=e("#careers-job-id").val(),n=e("#careers-cover-letter").val(),l=e("#careers-form")[0],c=l.reportValidity(),g=e("#careers-submit-button");c&&(""==grecaptcha.getResponse()?iziToast.warning({position:"topRight",message:"Please complete captcha"}):(g.text("PLEASE WAIT"),g.toggleClass("disabled"),e.ajax({url:"index.php?path=common/home/savecareers",type:"POST",dataType:"json",data:{firstname:a,lastname:s,role:o,yourself:i,job_id:r,cover:n},success:function(t){g.toggleClass("disabled"),t.status?(iziToast.success({position:"topRight",message:t.success_message}),e("#careers-form")[0].reset(),g.text("SUBMIT")):iziToast.warning({position:"topRight",title:"Oops",message:t.error_warning})}})))}),e(a).delegate("#partner-registration-button","click",function(t){t.preventDefault();const a=e("#partner-first-name").val(),s=e("#partner-last-name").val(),o=e("#partner-designation").val(),i=e("#partner-company-name").val(),r=e("#partner-email").val(),n=e("#partner-phone").val(),l=e("#partner-description").val(),c=e("#partner-registration-form")[0],g=c.reportValidity(),p=e("#partner-registration-button");g&&(""==grecaptcha.getResponse()?iziToast.warning({position:"topRight",message:"Please complete captcha"}):(p.text("PLEASE WAIT"),p.toggleClass("disabled"),e.ajax({url:"index.php?path=common/home/savepartner",type:"POST",dataType:"json",data:{firstname:a,lastname:s,designation:o,company:i,email:r,phone:n,description:l},success:function(t){p.toggleClass("disabled"),t.status?(iziToast.success({position:"topRight",message:t.success_message}),e("#partner-registration-form")[0].reset()):iziToast.warning({position:"topRight",title:"Oops",message:t.error_warning})}})))}),e("#forgot-password-btn").click(function(t){t.preventDefault(),e("#login-view").hide(),e("#forgot-password-view").show()}),e("#password-reset-button").click(function(t){t.preventDefault();const a=e("#reset-password-email").val(),s=e("#password-reset-button");0==a.length?iziToast.warning({position:"topRight",message:"Please enter your account email"}):(s.text("PLEASE WAIT"),s.toggleClass("disabled"),e.ajax({url:"index.php?path=account/forgotten",type:"POST",dataType:"json",data:{email:a},success:function(t){s.text("RESET PASSWORD"),s.toggleClass("disabled"),e("#reset-password-email").val(""),t.status?iziToast.success({timeout:!1,position:"topRight",message:t.text_message}):iziToast.warning({position:"topRight",message:"We couldn't find an account with that email address"})}}))}),e("#farmer-register-button").click(function(t){t.preventDefault();e("#farmer-first-name").val(),e("#farmer-last-name").val(),e("#farmer-email").val(),e("#farmer-phone").val(),e("#farmer-type").val(),e("#farmer-location").val(),e("farmer-produce-grown").val(),e("#farmer-register-button");""==grecaptcha.getResponse()?iziToast.warning({position:"topRight",message:"Please complete captcha"}):e("#farmer-registration-form")[0].reportValidity()&&(iziToast.success({position:"topRight",message:"Thanks for registering. We'll get in touch"}),e("#farmer-registration-form")[0].reset())}),e("#careers-job-category, #careers-job-type, #careers-job-location").change(function(){var t="index.php?path=common/home/careers",a=e("#careers-job-category").val();a&&"All Job Category"!=a&&(t+="&filter_category="+encodeURIComponent(a));var s=e("#careers-job-type").val();s&&"All Job Type"!=s&&(t+="&filter_type="+encodeURIComponent(s));var o=e("#careers-job-location").val();o&&"All Job Location"!=o&&(t+="&filter_location="+encodeURIComponent(o)),location=t})});var r=a.getElementById("lat"),n=a.getElementById("lng")}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiZ2V0TG9jYXRpb25Pbmx5IiwibmF2aWdhdG9yIiwiZ2VvbG9jYXRpb24iLCJjb25zb2xlIiwibG9nIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwic2hvd1Bvc2l0aW9uT25seSIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsInRpbWVvdXQiLCJtYXhpbXVtQWdlIiwibGF0IiwiaW5uZXJIVE1MIiwibG5nIiwicG9zaXRpb24iLCJjb29yZHMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInNjcm9sbCIsIiRuYXYiLCJ0b2dnbGVDbGFzcyIsInRoaXMiLCJzY3JvbGxUb3AiLCJoZWlnaHQiLCJjbGljayIsInNlY3Rpb25UbyIsImF0dHIiLCJhbmltYXRlIiwib2Zmc2V0IiwidG9wIiwiU2Nyb2xsT3V0IiwiZ3NhcCIsInRvIiwib3BhY2l0eSIsInkiLCJkdXJhdGlvbiIsImVhc2UiLCJkZWxlZ2F0ZSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImxvZ2luQnV0dG9uIiwibG9naW5fbGF0aXR1ZGUiLCJ2YWwiLCJsb2dpbl9sb25naXR1ZGUiLCJlbWFpbCIsInBhc3N3b3JkIiwibGVuZ3RoIiwidGV4dCIsImFqYXgiLCJ1cmwiLCJ0eXBlIiwiZGF0YSIsImxvZ2luX21vZGUiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJqc29uIiwibG9jYXRpb24iLCJocmVmIiwiaXppVG9hc3QiLCJlcnJvciIsIm1lc3NhZ2UiLCJ3YXJuaW5nIiwia2V5dXAiLCJ0ZXN0IiwidmFsdWUiLCJyZXBsYWNlIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJwaG9uZSIsImNvbXBhbnlOYW1lIiwiY29tcGFueUFkZHJlc3MiLCJidXNpbmVzc1R5cGUiLCJidWlsZGluZ05hbWUiLCJhZGRyZXNzTGluZSIsInBhc3N3b3JkQ29uZmlybWF0aW9uIiwicmVnaXN0cmF0aW9uVmlldyIsIm90cFZpZXciLCJyZWdpc3RlckJ1dHRvbiIsInJlZ2lzdGVyRm9ybSIsImZvcm1Jc1ZhbGlkIiwicmVwb3J0VmFsaWRpdHkiLCJncmVjYXB0Y2hhIiwiZ2V0UmVzcG9uc2UiLCJmaXJzdG5hbWUiLCJsYXN0bmFtZSIsInRlbGVwaG9uZSIsImNvbXBhbnlfbmFtZSIsImNvbXBhbnlfYWRkcmVzcyIsImN1c3RvbWVyX2dyb3VwX2lkIiwiaG91c2VfYnVpbGRpbmciLCJhZGRyZXNzIiwiY29uZmlybSIsImhpZGUiLCJzaG93IiwidGl0bGUiLCJvdHAiLCJ2ZXJpZnlCdXR0b24iLCJzaWdudXBfb3RwIiwic2V0VGltZW91dCIsInJvbGUiLCJ5b3Vyc2VsZiIsImpvYl9pZCIsImNvdmVyIiwicmVzZXQiLCJkZXNpZ25hdGlvbiIsImNvbXBhbnkiLCJkZXNjcmlwdGlvbiIsInJlc2V0QnV0dG9uIiwiY2hhbmdlIiwiZmlsdGVyX2NhdGVnb3J5IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZmlsdGVyX3R5cGUiLCJmaWx0ZXJfbG9jYXRpb24iLCJnZXRFbGVtZW50QnlJZCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Q0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBLFlBK2VBLFNBQUFDLEtBRUFDLFVBQUFDLGFBRUFDLFFBQUFDLElBQUEsR0FFQUgsVUFBQUMsWUFBQUcsbUJBRUFDLEVBSUEsTUFNQUMsb0JBQUEsRUFFQUMsUUFBQSxJQUVBQyxXQUFBLE1BTUFOLFFBQUFDLElBQUEsR0FFQUQsUUFBQUMsSUFBQSxpREFFQU0sRUFBQUMsVUFBQSxFQUVBQyxFQUFBRCxVQUFBLEdBS0EsUUFBQUwsR0FBQU8sR0FDQVYsUUFBQUMsSUFBQSxvQkFDQUQsUUFBQUMsSUFBQVMsR0FDQUgsRUFBQUMsVUFBQUUsRUFBQUMsT0FBQUMsU0FDQUgsRUFBQUQsVUFBQUUsRUFBQUMsT0FBQUUsVUFDQWIsUUFBQUMsSUFBQVMsRUFBQUMsT0FBQUMsVUFDQVosUUFBQUMsSUFBQVMsRUFBQUMsT0FBQUUsV0ExaEJBcEIsRUFBQSxX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QUNBOEMsUUFBQSwrQ0FHQS9ELEVBQUEsNkJBQUEsR0FBQTBHLFdBc0NBMUcsRUFBQSxtRUFBQStHLE9BQUEsV0FFQSxHQUFBM0QsR0FBQSxxQ0FHQTRELEVBQUFoSCxFQUFBLHlCQUFBNkMsS0FFQW1FLElBQUEsb0JBQUFBLElBQ0E1RCxHQUFBLG9CQUFBNkQsbUJBQUFELEdBR0EsSUFBQUUsR0FBQWxILEVBQUEscUJBQUE2QyxLQUVBcUUsSUFBQSxnQkFBQUEsSUFDQTlELEdBQUEsZ0JBQUE2RCxtQkFBQUMsR0FHQSxJQUFBQyxHQUFBbkgsRUFBQSx5QkFBQTZDLEtBRUFzRSxJQUFBLG9CQUFBQSxJQUNBL0QsR0FBQSxvQkFBQTZELG1CQUFBRSxJQUVBeEQsU0FBQVAsS0FNQSxJQUFBdEMsR0FBQVosRUFBQWtILGVBQUEsT0FDQXBHLEVBQUFkLEVBQUFrSCxlQUFBLFFBa0RBQyxPQUFBcEgsT0FBQUMiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIFxyXG4gICAgJChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gQ2hhbmdlIG5hdmJhciBzdHlsZSBvbiBzY3JvbGxcclxuICAgICAgICAkKGRvY3VtZW50KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgJG5hdiA9ICQoJy5maXhlZC10b3AnKTtcclxuICAgICAgICAgICAgJG5hdi50b2dnbGVDbGFzcygnc2Nyb2xsZWQnLCAkKHRoaXMpLnNjcm9sbFRvcCgpID4gJG5hdi5oZWlnaHQoKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIE5hdiBsaW5rcyBzY3JvbGwgYW5pbWF0aW9uXHJcbiAgICAgICAgJCgnLm5hdi1saW5rLCAubmF2YmFyLWJyYW5kJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VjdGlvblRvID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XHJcbiAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogJChzZWN0aW9uVG8pLm9mZnNldCgpLnRvcFxyXG4gICAgICAgICAgICB9LCA3MDApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBMYW5kaW5nIHBhZ2Ugc2Nyb2xsIGFuaW1hdGlvbnNcclxuICAgICAgICBTY3JvbGxPdXQoKTtcclxuXHJcbiAgICAgICAgLy8gSGVybyBzZWN0aW9uIGFuaW1hdGlvblxyXG4gICAgICAgIGdzYXAudG8oJy5hbmltLWZyb20tdG9wJywge1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogLjUsXHJcbiAgICAgICAgICAgIGVhc2U6ICdlbGFzdGljJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBnc2FwLnRvKCcuYW5pbS1mcm9tLWJvdHRvbScsIHtcclxuICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgZHVyYXRpb246IC41XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEN1c3RvbWVyIExvZ2luXHJcbiAgICAgICAgJChkb2N1bWVudCkuZGVsZWdhdGUoJyNsb2dpbi1idXR0b24nLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBnZXRMb2NhdGlvbk9ubHkoKTtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2dpbkJ1dHRvbiA9ICQoJyNsb2dpbi1idXR0b24nKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2dpbl9sYXRpdHVkZSA9ICQoJyNsYXQnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2dpbl9sb25naXR1ZGUgPSAkKCcjbG5nJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1haWwgPSAkKCcjbG9naW4tZW1haWwnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXNzd29yZCA9ICQoJyNsb2dpbi1wYXNzd29yZCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbWFpbC5sZW5ndGggPiAwICYmIHBhc3N3b3JkLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxvZ2luQnV0dG9uLnRleHQoJ1BMRUFTRSBXQUlUJyk7XHJcbiAgICAgICAgICAgICAgICBsb2dpbkJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9YWNjb3VudC9sb2dpbi9sb2dpbicsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Bvc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtlbWFpbDogZW1haWwsIHBhc3N3b3JkOiBwYXNzd29yZCwgbG9naW5fbGF0aXR1ZGU6bG9naW5fbGF0aXR1ZGUsIGxvZ2luX2xvbmdpdHVkZTpsb2dpbl9sb25naXR1ZGUsIGxvZ2luX21vZGU6J3dlYid9LFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGpzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25bJ3N0YXR1cyddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvblsncmVkaXJlY3QnXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBqc29uWydyZWRpcmVjdCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChqc29uWyd0ZW1wcGFzc3dvcmQnXSA9PSAnMScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9ICQoJy5iYXNlX3VybCcpLmF0dHIoJ2hyZWYnKSArICcvY2hhbmdlcGFzcyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJCgnLmJhc2VfdXJsJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9ICQoJy5iYXNlX3VybCcpLmF0dHIoJ2hyZWYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0LmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBqc29uWydlcnJvcl93YXJuaW5nJ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9naW5CdXR0b24udGV4dCgnTE9HSU4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2luQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIHlvdXIgZW1haWwgYW5kIHBhc3N3b3JkJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ3VzdG9tZXIgUmVnaXN0cmF0aW9uXHJcblxyXG4gICAgICAgICQoJyNyZWdpc3Rlci1waG9uZScpLmtleXVwKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICgvXFxEL2cudGVzdCh0aGlzLnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gRmlsdGVyIG91dCBub24tZGlnaXRzIGZyb20gaW5wdXQgdmFsdWVcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkuZGVsZWdhdGUoJyNyZWdpc3Rlci1idXR0b24nLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBmaXJzdE5hbWUgPSAkKCcjcmVnaXN0ZXItZmlyc3QtbmFtZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3ROYW1lID0gJCgnI3JlZ2lzdGVyLWxhc3QtbmFtZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYWlsID0gJCgnI3JlZ2lzdGVyLWVtYWlsJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGhvbmUgPSAkKCcjcmVnaXN0ZXItcGhvbmUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wYW55TmFtZSA9ICQoJyNyZWdpc3Rlci1jb21wYW55LW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wYW55QWRkcmVzcyA9ICQoJyNyZWdpc3Rlci1jb21wYW55LWFkZHJlc3MnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBidXNpbmVzc1R5cGUgPSAkKCcjcmVnaXN0ZXItYnVzaW5lc3MtdHlwZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nTmFtZSA9ICQoJyNyZWdpc3Rlci1idWlsZGluZy1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkcmVzc0xpbmUgPSAkKCcjcmVnaXN0ZXItYWRkcmVzcy1saW5lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYXRpb24gPSAkKCcjcmVnaXN0ZXItbG9jYXRpb24nKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXNzd29yZCA9ICQoJyNyZWdpc3Rlci1wYXNzd29yZCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkQ29uZmlybWF0aW9uID0gJCgnI3JlZ2lzdGVyLXBhc3N3b3JkLWNvbmZpcm0nKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWdpc3RyYXRpb25WaWV3ID0gJCgnI3JlZ2lzdHJhdGlvbi12aWV3Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3RwVmlldyA9ICQoJyNvdHAtdmlldycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lzdGVyQnV0dG9uID0gJCgnI3JlZ2lzdGVyLWJ1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lzdGVyRm9ybSA9ICQoJyNyZWdpc3Rlci1mb3JtJylbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybUlzVmFsaWQgPSByZWdpc3RlckZvcm0ucmVwb3J0VmFsaWRpdHkoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybUlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYXNzd29yZENvbmZpcm1hdGlvbiAhPT0gcGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdQYXNzd29yZHMgZG8gbm8gbWF0Y2gnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChncmVjYXB0Y2hhLmdldFJlc3BvbnNlKCkgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgY29tcGxldGUgY2FwdGNoYSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJCdXR0b24udGV4dCgnUExFQVNFIFdBSVQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9YWNjb3VudC9yZWdpc3Rlci9yZWdpc3Rlcl9zZW5kX290cCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0bmFtZTogZmlyc3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RuYW1lOiBsYXN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVsZXBob25lOiBwaG9uZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6IGNvbXBhbnlOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhbnlfYWRkcmVzczogY29tcGFueUFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJfZ3JvdXBfaWQ6IGJ1c2luZXNzVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VzZV9idWlsZGluZzogYnVpbGRpbmdOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFkZHJlc3NMaW5lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybTogcGFzc3dvcmRDb25maXJtYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoanNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRleHQoJ1NJR04gVVAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RlckJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25bJ3N0YXR1cyddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0LnN1Y2Nlc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBqc29uWydzdWNjZXNzX21lc3NhZ2UnXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvblZpZXcuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdHBWaWV3LnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ2Vycm9yX3dhcm5pbmcnXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBPVFAgVmVyaWZpY2F0aW9uXHJcbiAgICAgICAgJChkb2N1bWVudCkuZGVsZWdhdGUoJyNvdHAtdmVyaWZ5LWJ1dHRvbicsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0TmFtZSA9ICQoJyNyZWdpc3Rlci1maXJzdC1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdE5hbWUgPSAkKCcjcmVnaXN0ZXItbGFzdC1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1haWwgPSAkKCcjcmVnaXN0ZXItZW1haWwnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaG9uZSA9ICQoJyNyZWdpc3Rlci1waG9uZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBhbnlOYW1lID0gJCgnI3JlZ2lzdGVyLWNvbXBhbnktbmFtZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBhbnlBZGRyZXNzID0gJCgnI3JlZ2lzdGVyLWNvbXBhbnktYWRkcmVzcycpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1c2luZXNzVHlwZSA9ICQoJyNyZWdpc3Rlci1idXNpbmVzcy10eXBlJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdOYW1lID0gJCgnI3JlZ2lzdGVyLWJ1aWxkaW5nLW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRyZXNzTGluZSA9ICQoJyNyZWdpc3Rlci1hZGRyZXNzLWxpbmUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9ICQoJyNyZWdpc3Rlci1sb2NhdGlvbicpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gJCgnI3JlZ2lzdGVyLXBhc3N3b3JkJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFzc3dvcmRDb25maXJtYXRpb24gPSAkKCcjcmVnaXN0ZXItcGFzc3dvcmQtY29uZmlybScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG90cCA9ICQoJyNvdHAtdmFsdWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJpZnlCdXR0b24gPSAkKCcjb3RwLXZlcmlmeS1idXR0b24nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3RwLmxlbmd0aCA+IDMpIHtcclxuICAgICAgICAgICAgICAgIHZlcmlmeUJ1dHRvbi50ZXh0KCdQTEVBU0UgV0FJVCcpO1xyXG4gICAgICAgICAgICAgICAgdmVyaWZ5QnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9YWNjb3VudC9yZWdpc3Rlci9yZWdpc3Rlcl92ZXJpZnlfb3RwJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0bmFtZTogZmlyc3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0bmFtZTogbGFzdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVsZXBob25lOiBwaG9uZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiBjb21wYW55TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFueV9hZGRyZXNzOiBjb21wYW55QWRkcmVzcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJfZ3JvdXBfaWQ6IGJ1c2luZXNzVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG91c2VfYnVpbGRpbmc6IGJ1aWxkaW5nTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzc0xpbmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtOiBwYXNzd29yZENvbmZpcm1hdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbnVwX290cDogb3RwXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoanNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlCdXR0b24udGV4dCgnVkVSSUZZJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeUJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI290cC12YWx1ZScpLnZhbCgnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvblsnc3RhdHVzJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0LnN1Y2Nlc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ3N1Y2Nlc3NfbWVzc2FnZSddXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAkKCcuYmFzZV91cmwnKS5hdHRyKCdocmVmJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1dlIGNvdWxkblxcJ3QgdmVyaWZ5IHlvdXIgYWNjb3VudC4gUGxlYXNlIGNoZWNrIHRoZSBPVFAnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXppVG9hc3QuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBPVFAnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5kZWxlZ2F0ZSgnI2NhcmVlcnMtc3VibWl0LWJ1dHRvbicsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdE5hbWUgPSAkKCcjY2FyZWVycy1maXJzdC1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdE5hbWUgPSAkKCcjY2FyZWVycy1sYXN0LW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByb2xlID0gJCgnI2NhcmVlcnMtZGVzaWduYXRpb24nKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB5b3Vyc2VsZiA9ICQoJyNjYXJlZXJzLWFib3V0LXlvdXJzZWxmJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgam9iX2lkID0gJCgnI2NhcmVlcnMtam9iLWlkJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY292ZXIgPSAkKCcjY2FyZWVycy1jb3Zlci1sZXR0ZXInKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBjdl9wYXRoID0gJCgnI2NhcmVlcnMtY3YtcGF0aCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lzdGVyRm9ybSA9ICQoJyNjYXJlZXJzLWZvcm0nKVswXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtSXNWYWxpZCA9IHJlZ2lzdGVyRm9ybS5yZXBvcnRWYWxpZGl0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lzdGVyQnV0dG9uID0gJCgnI2NhcmVlcnMtc3VibWl0LWJ1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JtSXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKSA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBjb21wbGV0ZSBjYXB0Y2hhJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWdpc3RlckJ1dHRvbi50ZXh0KCdQTEVBU0UgV0FJVCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2luZGV4LnBocD9wYXRoPWNvbW1vbi9ob21lL3NhdmVjYXJlZXJzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdG5hbWU6IGZpcnN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RuYW1lOiBsYXN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6IHJvbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5b3Vyc2VsZjogeW91cnNlbGYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2JfaWQ6IGpvYl9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyOiBjb3ZlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY3ZfcGF0aDogY3ZfcGF0aGtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGpzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25bJ3N0YXR1cyddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Quc3VjY2Vzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBqc29uWydzdWNjZXNzX21lc3NhZ2UnXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNjYXJlZXJzLWZvcm0nKVswXS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRleHQoJ1NVQk1JVCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBqc29uWydlcnJvcl93YXJuaW5nJ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLmRlbGVnYXRlKCcjcGFydG5lci1yZWdpc3RyYXRpb24tYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0TmFtZSA9ICQoJyNwYXJ0bmVyLWZpcnN0LW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TmFtZSA9ICQoJyNwYXJ0bmVyLWxhc3QtbmFtZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2lnbmF0aW9uID0gJCgnI3BhcnRuZXItZGVzaWduYXRpb24nKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wYW55ID0gJCgnI3BhcnRuZXItY29tcGFueS1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1haWwgPSAkKCcjcGFydG5lci1lbWFpbCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBob25lID0gJCgnI3BhcnRuZXItcGhvbmUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9ICQoJyNwYXJ0bmVyLWRlc2NyaXB0aW9uJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnaXN0ZXJGb3JtID0gJCgnI3BhcnRuZXItcmVnaXN0cmF0aW9uLWZvcm0nKVswXTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtSXNWYWxpZCA9IHJlZ2lzdGVyRm9ybS5yZXBvcnRWYWxpZGl0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lzdGVyQnV0dG9uID0gJCgnI3BhcnRuZXItcmVnaXN0cmF0aW9uLWJ1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JtSXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKSA9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBjb21wbGV0ZSBjYXB0Y2hhJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWdpc3RlckJ1dHRvbi50ZXh0KCdQTEVBU0UgV0FJVCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2luZGV4LnBocD9wYXRoPWNvbW1vbi9ob21lL3NhdmVwYXJ0bmVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdG5hbWU6IGZpcnN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RuYW1lOiBsYXN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2lnbmF0aW9uOiBkZXNpZ25hdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhbnk6IGNvbXBhbnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG9uZTogcGhvbmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGpzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25bJ3N0YXR1cyddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Quc3VjY2Vzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBqc29uWydzdWNjZXNzX21lc3NhZ2UnXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNwYXJ0bmVyLXJlZ2lzdHJhdGlvbi1mb3JtJylbMF0ucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBqc29uWydlcnJvcl93YXJuaW5nJ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJyNmb3Jnb3QtcGFzc3dvcmQtYnRuJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgJCgnI2xvZ2luLXZpZXcnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJyNmb3Jnb3QtcGFzc3dvcmQtdmlldycpLnNob3coKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJyNwYXNzd29yZC1yZXNldC1idXR0b24nKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBlbWFpbCA9ICQoJyNyZXNldC1wYXNzd29yZC1lbWFpbCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc2V0QnV0dG9uID0gJCgnI3Bhc3N3b3JkLXJlc2V0LWJ1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbWFpbC5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciB5b3VyIGFjY291bnQgZW1haWwnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlc2V0QnV0dG9uLnRleHQoJ1BMRUFTRSBXQUlUJyk7XHJcbiAgICAgICAgICAgICAgICByZXNldEJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogJ2luZGV4LnBocD9wYXRoPWFjY291bnQvZm9yZ290dGVuJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGpzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRCdXR0b24udGV4dCgnUkVTRVQgUEFTU1dPUkQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNyZXNldC1wYXNzd29yZC1lbWFpbCcpLnZhbCgnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvblsnc3RhdHVzJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0LnN1Y2Nlc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ3RleHRfbWVzc2FnZSddXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdXZSBjb3VsZG5cXCd0IGZpbmQgYW4gYWNjb3VudCB3aXRoIHRoYXQgZW1haWwgYWRkcmVzcydcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI2Zhcm1lci1yZWdpc3Rlci1idXR0b24nKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBmaXJzdE5hbWUgPSAkKCcjZmFybWVyLWZpcnN0LW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TmFtZSA9ICQoJyNmYXJtZXItbGFzdC1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1haWwgPSAkKCcjZmFybWVyLWVtYWlsJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGhvbmUgPSAkKCcjZmFybWVyLXBob25lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFybWVyVHlwZSA9ICQoJyNmYXJtZXItdHlwZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZhcm1Mb2NhdGlvbiA9ICQoJyNmYXJtZXItbG9jYXRpb24nKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWNlRGVzY3JpcHRpb24gPSAkKCdmYXJtZXItcHJvZHVjZS1ncm93bicpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lzdGVyQnV0dG9uID0gJCgnI2Zhcm1lci1yZWdpc3Rlci1idXR0b24nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JlY2FwdGNoYS5nZXRSZXNwb25zZSgpID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGNvbXBsZXRlIGNhcHRjaGEnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICgkKCcjZmFybWVyLXJlZ2lzdHJhdGlvbi1mb3JtJylbMF0ucmVwb3J0VmFsaWRpdHkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0LnN1Y2Nlc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1RoYW5rcyBmb3IgcmVnaXN0ZXJpbmcuIFdlXFwnbGwgZ2V0IGluIHRvdWNoJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkKCcjZmFybWVyLXJlZ2lzdHJhdGlvbi1mb3JtJylbMF0ucmVzZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZWdpc3RlckJ1dHRvbi50ZXh0KCdQTEVBU0UgV0FJVCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9YWNjb3VudC9mYXJtZXJyZWdpc3Rlci9yZWdpc3RlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgZGF0YTogeyBcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbmFtZTogZmlyc3ROYW1lICsgJyAnICsgbGFzdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGVsZXBob25lOiBwaG9uZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJlZ2lzdGVyQnV0dG9uLnRleHQoJ1JFR0lTVEVSJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJlZ2lzdGVyQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYgKGpzb25bJ3N0YXR1cyddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgaXppVG9hc3Quc3VjY2Vzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ3N1Y2Nlc3NfbWVzc2FnZSddXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICQoJyNmYXJtZXItcmVnaXN0cmF0aW9uLWZvcm0nKVswXS5yZXNldCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGl0bGU6ICdPb3BzJyxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIG1lc3NhZ2U6ICdXZSBjb3VsZG5cXCd0IHJlZ2lzdGVyIHlvdS4gUGxlYXNlIHRyeSBhZ2FpbidcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoXCIjY2FyZWVycy1qb2ItY2F0ZWdvcnksICNjYXJlZXJzLWpvYi10eXBlLCAjY2FyZWVycy1qb2ItbG9jYXRpb25cIikuY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB1cmwgPSAnaW5kZXgucGhwP3BhdGg9Y29tbW9uL2hvbWUvY2FyZWVycyc7XHJcblxyXG5cclxuICAgICAgICAgICAgdmFyIGZpbHRlcl9jYXRlZ29yeSA9ICQoJyNjYXJlZXJzLWpvYi1jYXRlZ29yeScpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZpbHRlcl9jYXRlZ29yeSAmJiBmaWx0ZXJfY2F0ZWdvcnkgIT0gXCJBbGwgSm9iIENhdGVnb3J5XCIpIHtcclxuICAgICAgICAgICAgICAgIHVybCArPSAnJmZpbHRlcl9jYXRlZ29yeT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbHRlcl9jYXRlZ29yeSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfdHlwZSA9ICQoJyNjYXJlZXJzLWpvYi10eXBlJykudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZmlsdGVyX3R5cGUgJiYgZmlsdGVyX3R5cGUgIT0gXCJBbGwgSm9iIFR5cGVcIikge1xyXG4gICAgICAgICAgICAgICAgdXJsICs9ICcmZmlsdGVyX3R5cGU9JyArIGVuY29kZVVSSUNvbXBvbmVudChmaWx0ZXJfdHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfbG9jYXRpb24gPSAkKCcjY2FyZWVycy1qb2ItbG9jYXRpb24nKS52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmaWx0ZXJfbG9jYXRpb24gJiYgZmlsdGVyX2xvY2F0aW9uICE9IFwiQWxsIEpvYiBMb2NhdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICB1cmwgKz0gJyZmaWx0ZXJfbG9jYXRpb249JyArIGVuY29kZVVSSUNvbXBvbmVudChmaWx0ZXJfbG9jYXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvY2F0aW9uID0gdXJsO1xyXG5cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBcclxuICAgICAgICB2YXIgbGF0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsYXRcIik7XHJcbiAgICB2YXIgbG5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsbmdcIik7XHJcblxyXG4gICAgICAgICBmdW5jdGlvbiBnZXRMb2NhdGlvbk9ubHkoKSB7XHJcbiAgICAgICAgICAgICBcclxuICAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHsgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKDEpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93UG9zaXRpb25Pbmx5LCBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVycm9yIGZ1bmN0aW9uXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLC8vc2hvd0Vycm9yLCBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9wdGlvbnMuIFNlZSBNRE4gZm9yIGRldGFpbHMuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiA1MDAwLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bUFnZTogMFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coMik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJHZW9sb2NhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3Nlci5cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgbGF0LmlubmVySFRNTCA9ICAgMCA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgbG5nLmlubmVySFRNTCA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICB9XHJcbiAgICAgICAgIFxyXG4gICAgICAgICBmdW5jdGlvbiBzaG93UG9zaXRpb25Pbmx5KHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2hvd1Bvc2l0aW9uT25seScpO1xyXG4gICAgICAgICAgICAgY29uc29sZS5sb2cocG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgbGF0LmlubmVySFRNTCA9IHBvc2l0aW9uLmNvb3Jkcy5sYXRpdHVkZTtcclxuICAgICAgICAgICAgIGxuZy5pbm5lckhUTUwgPSBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlO1xyXG4gICAgICAgICAgICAgY29uc29sZS5sb2cocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlKTtcclxuICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpO1xyXG4gICAgICAgICB9XHJcblxyXG59KShqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG4iXX0=
