/*!
 * kwikbasket
 * KwikBasket Landing Page
 * 
 * @author KwikBasket
 * @version 1.0.0
 * Copyright 2020. MIT licensed.
 */
!function(e,t,a,s){"use strict";function o(){navigator.geolocation?(console.log(1),navigator.geolocation.getCurrentPosition(i,null,{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})):(console.log(2),console.log("Geolocation is not supported by this browser."))}function i(t){console.log("showPositionOnly"),console.log(t),e("#lat").val(t.coords.latitude),e("#lng").val(t.coords.longitude),console.log(t.coords.latitude),console.log(t.coords.longitude)}o(),e(function(){e(a).scroll(function(){var t=e(".fixed-top");t.toggleClass("scrolled",e(this).scrollTop()>t.height())}),e(".nav-link, .navbar-brand").click(function(){var t=e(this).attr("href");e("html, body").animate({scrollTop:e(t).offset().top},700)}),ScrollOut(),gsap.to(".anim-from-top",{opacity:1,y:0,duration:.5,ease:"elastic"}),gsap.to(".anim-from-bottom",{y:0,duration:.5}),e(a).delegate("#login-button","click",function(a){o(),a.preventDefault();const s=e("#login-button");var i=e("#lat").val(),n=e("#lng").val();const r=e("#login-email").val(),l=e("#login-password").val();r.length>0&&l.length>0?(s.text("PLEASE WAIT"),s.toggleClass("disabled"),e.ajax({url:"index.php?path=account/login/checkipaddress",type:"post",data:{email:r,password:l},dataType:"json",success:function(a){console.log(a),"Username And Password Doest Match!"==a.message?iziToast.success({position:"topRight",message:"Username And Password Doest Match!"}):1==a.isnewIP?e.ajax({url:"index.php?path=account/login/addSendNewIPotp",type:"POST",dataType:"json",data:{email:r},success:function(t){t.status?(iziToast.success({position:"topRight",message:"OTP Is Sent To Mail!"}),e("#login-view").hide(),e("#otp-view").show()):iziToast.warning({position:"topRight",title:"Oops",message:"Something Went Wrong!"})}}):e.ajax({url:"index.php?path=account/login/login",type:"post",data:{email:r,password:l,login_latitude:i,login_longitude:n,login_mode:"web"},dataType:"json",success:function(a){a.status?null!=a.redirect?t.location.href=a.redirect:"1"==a.temppassword?(location=e(".base_url").attr("href")+"/changepass",console.log(e(".base_url"))):location=e(".base_url").attr("href"):(iziToast.error({position:"topRight",message:a.error_warning}),s.text("LOGIN"),s.toggleClass("disabled"))}})}})):iziToast.warning({position:"topRight",message:"Please enter your email and password"})}),e("#register-phone").keyup(function(e){/\D/g.test(this.value)&&(this.value=this.value.replace(/\D/g,""))}),e(a).delegate("#register-button","click",function(t){o(),t.preventDefault();e("#lat").val(),e("#lng").val();const a=e("#register-first-name").val(),s=e("#register-last-name").val(),i=e("#register-email").val(),n=e("#register-phone").val(),r=e("#register-company-name").val(),l=e("#register-company-address").val(),c=e("#register-business-type").val(),g=e("#register-building-name").val(),p=e("#register-address-line").val(),u=e("#register-location").val(),d=e("#register-password").val(),m=e("#register-password-confirm").val(),h=e("#registration-view"),v=e("#otp-view"),f=e("#register-button"),b=e("#register-form")[0],y=b.reportValidity();y&&(m!==d?iziToast.warning({position:"topRight",message:"Passwords do no match"}):""==grecaptcha.getResponse()?iziToast.warning({position:"topRight",message:"Please complete captcha"}):(f.text("PLEASE WAIT"),f.toggleClass("disabled"),e.ajax({url:"index.php?path=account/register/register_send_otp",type:"POST",dataType:"json",data:{firstname:a,lastname:s,email:i,telephone:n,company_name:r,company_address:l,customer_group_id:c,house_building:g,address:p,location:u,password:d,confirm:m},success:function(e){f.text("SIGN UP"),f.toggleClass("disabled"),e.status?(iziToast.success({position:"topRight",message:e.success_message}),h.hide(),v.show()):iziToast.warning({position:"topRight",title:"Oops",message:e.error_warning})}})))}),e(a).delegate("#otp-verify-button","click",function(a){a.preventDefault();const s=e("#register-first-name").val(),o=e("#register-last-name").val(),i=e("#register-email").val(),n=e("#register-phone").val(),r=e("#register-company-name").val(),l=e("#register-company-address").val(),c=e("#register-business-type").val(),g=e("#register-building-name").val(),p=e("#register-address-line").val(),u=e("#register-location").val(),d=e("#register-password").val(),m=e("#register-password-confirm").val(),h=e("#otp-value").val(),v=e("#otp-verify-button");h.length>3?(v.text("PLEASE WAIT"),v.toggleClass("disabled"),e.ajax({url:"index.php?path=account/register/register_verify_otp",type:"POST",dataType:"json",data:{firstname:s,lastname:o,email:i,telephone:n,company_name:r,company_address:l,customer_group_id:c,house_building:g,address:p,location:u,password:d,confirm:m,signup_otp:h},success:function(a){v.text("VERIFY"),v.toggleClass("disabled"),e("#otp-value").val(""),a.status?(iziToast.success({timeout:!1,position:"topRight",message:a.success_message}),setTimeout(function(){t.location=e(".base_url").attr("href")},3e3)):iziToast.warning({position:"topRight",message:"We couldn't verify your account. Please check the OTP"})}})):iziToast.error({position:"topRight",message:"Please enter a valid OTP"})}),e(a).delegate("#ip-otp-verify-button","click",function(a){a.preventDefault();const s=e("#login-email").val(),o=e("#otp-value").val();var i=e("#lat").val(),n=e("#lng").val();const r=e("#login-password").val(),l=e("#otp-verify-button");o.length>3?(l.text("PLEASE WAIT"),l.toggleClass("disabled"),e.ajax({url:"index.php?path=account/login/addVerifyNewIPotp",type:"POST",dataType:"json",data:{email:s,otp:o},success:function(a){l.text("VERIFY"),l.toggleClass("disabled"),e("#otp-value").val(""),a.status?(iziToast.success({timeout:!1,position:"topRight",message:"Will be redirecting to login page!"}),setTimeout(function(){a.status&&e.ajax({url:"index.php?path=account/login/login",type:"post",data:{email:s,password:r,login_latitude:i,login_longitude:n,login_mode:"web"},dataType:"json",success:function(a){a.status?null!=a.redirect?t.location.href=a.redirect:"1"==a.temppassword?(location=e(".base_url").attr("href")+"/changepass",console.log(e(".base_url"))):location=e(".base_url").attr("href"):(iziToast.error({position:"topRight",message:a.error_warning}),location=e(".base_url").attr("href"),loginButton.text("LOGIN"),loginButton.toggleClass("disabled"))}})},1500)):iziToast.warning({position:"topRight",message:"We couldn't verify your account. Please check the OTP"})}})):iziToast.error({position:"topRight",message:"Please enter a valid OTP"})}),e(a).delegate("#careers-submit-button","click",function(t){t.preventDefault();const a=e("#careers-first-name").val(),s=e("#careers-last-name").val(),o=e("#careers-designation").val(),i=e("#careers-about-yourself").val(),n=e("#careers-job-id").val(),r=e("#careers-cover-letter").val(),l=e("#careers-form")[0],c=l.reportValidity(),g=e("#careers-submit-button");c&&(""==grecaptcha.getResponse()?iziToast.warning({position:"topRight",message:"Please complete captcha"}):(g.text("PLEASE WAIT"),g.toggleClass("disabled"),e.ajax({url:"index.php?path=common/home/savecareers",type:"POST",dataType:"json",data:{firstname:a,lastname:s,role:o,yourself:i,job_id:n,cover:r},success:function(t){g.toggleClass("disabled"),t.status?(iziToast.success({position:"topRight",message:t.success_message}),e("#careers-form")[0].reset(),g.text("SUBMIT")):iziToast.warning({position:"topRight",title:"Oops",message:t.error_warning})}})))}),e(a).delegate("#partner-registration-button","click",function(t){t.preventDefault();const a=e("#partner-first-name").val(),s=e("#partner-last-name").val(),o=e("#partner-designation").val(),i=e("#partner-company-name").val(),n=e("#partner-email").val(),r=e("#partner-phone").val(),l=e("#partner-description").val(),c=e("#partner-registration-form")[0],g=c.reportValidity(),p=e("#partner-registration-button");g&&(""==grecaptcha.getResponse()?iziToast.warning({position:"topRight",message:"Please complete captcha"}):(p.text("PLEASE WAIT"),p.toggleClass("disabled"),e.ajax({url:"index.php?path=common/home/savepartner",type:"POST",dataType:"json",data:{firstname:a,lastname:s,designation:o,company:i,email:n,phone:r,description:l},success:function(t){p.toggleClass("disabled"),t.status?(iziToast.success({position:"topRight",message:t.success_message}),e("#partner-registration-form")[0].reset()):iziToast.warning({position:"topRight",title:"Oops",message:t.error_warning})}})))}),e("#forgot-password-btn").click(function(t){t.preventDefault(),e("#login-view").hide(),e("#forgot-password-view").show()}),e("#password-reset-button").click(function(t){t.preventDefault();const a=e("#reset-password-email").val(),s=e("#password-reset-button");0==a.length?iziToast.warning({position:"topRight",message:"Please enter your account email"}):(s.text("PLEASE WAIT"),s.toggleClass("disabled"),e.ajax({url:"index.php?path=account/forgotten",type:"POST",dataType:"json",data:{email:a},success:function(t){s.text("RESET PASSWORD"),s.toggleClass("disabled"),e("#reset-password-email").val(""),t.status?iziToast.success({timeout:!1,position:"topRight",message:t.text_message}):iziToast.warning({position:"topRight",message:"We couldn't find an account with that email address"})}}))}),e("#farmer-register-button").click(function(t){t.preventDefault();e("#farmer-first-name").val(),e("#farmer-last-name").val(),e("#farmer-email").val(),e("#farmer-phone").val(),e("#farmer-type").val(),e("#farmer-location").val(),e("farmer-produce-grown").val(),e("#farmer-register-button");""==grecaptcha.getResponse()?iziToast.warning({position:"topRight",message:"Please complete captcha"}):e("#farmer-registration-form")[0].reportValidity()&&(iziToast.success({position:"topRight",message:"Thanks for registering. We'll get in touch"}),e("#farmer-registration-form")[0].reset())}),e("#careers-job-category, #careers-job-type, #careers-job-location").change(function(){var t="index.php?path=common/home/careers",a=e("#careers-job-category").val();a&&"All Job Category"!=a&&(t+="&filter_category="+encodeURIComponent(a));var s=e("#careers-job-type").val();s&&"All Job Type"!=s&&(t+="&filter_type="+encodeURIComponent(s));var o=e("#careers-job-location").val();o&&"All Job Location"!=o&&(t+="&filter_location="+encodeURIComponent(o)),location=t})});e("#lat"),e("#lng")}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiZ2V0TG9jYXRpb25Pbmx5IiwibmF2aWdhdG9yIiwiZ2VvbG9jYXRpb24iLCJjb25zb2xlIiwibG9nIiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwic2hvd1Bvc2l0aW9uT25seSIsImVuYWJsZUhpZ2hBY2N1cmFjeSIsInRpbWVvdXQiLCJtYXhpbXVtQWdlIiwicG9zaXRpb24iLCJ2YWwiLCJjb29yZHMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsInNjcm9sbCIsIiRuYXYiLCJ0b2dnbGVDbGFzcyIsInRoaXMiLCJzY3JvbGxUb3AiLCJoZWlnaHQiLCJjbGljayIsInNlY3Rpb25UbyIsImF0dHIiLCJhbmltYXRlIiwib2Zmc2V0IiwidG9wIiwiU2Nyb2xsT3V0IiwiZ3NhcCIsInRvIiwib3BhY2l0eSIsInkiLCJkdXJhdGlvbiIsImVhc2UiLCJkZWxlZ2F0ZSIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImxvZ2luQnV0dG9uIiwibG9naW5fbGF0aXR1ZGUiLCJsb2dpbl9sb25naXR1ZGUiLCJlbWFpbCIsInBhc3N3b3JkIiwibGVuZ3RoIiwidGV4dCIsImFqYXgiLCJ1cmwiLCJ0eXBlIiwiZGF0YSIsImRhdGFUeXBlIiwic3VjY2VzcyIsImpzb24iLCJtZXNzYWdlIiwiaXppVG9hc3QiLCJoaWRlIiwic2hvdyIsIndhcm5pbmciLCJ0aXRsZSIsImxvZ2luX21vZGUiLCJsb2NhdGlvbiIsImhyZWYiLCJlcnJvciIsImtleXVwIiwidGVzdCIsInZhbHVlIiwicmVwbGFjZSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwicGhvbmUiLCJjb21wYW55TmFtZSIsImNvbXBhbnlBZGRyZXNzIiwiYnVzaW5lc3NUeXBlIiwiYnVpbGRpbmdOYW1lIiwiYWRkcmVzc0xpbmUiLCJwYXNzd29yZENvbmZpcm1hdGlvbiIsInJlZ2lzdHJhdGlvblZpZXciLCJvdHBWaWV3IiwicmVnaXN0ZXJCdXR0b24iLCJyZWdpc3RlckZvcm0iLCJmb3JtSXNWYWxpZCIsInJlcG9ydFZhbGlkaXR5IiwiZ3JlY2FwdGNoYSIsImdldFJlc3BvbnNlIiwiZmlyc3RuYW1lIiwibGFzdG5hbWUiLCJ0ZWxlcGhvbmUiLCJjb21wYW55X25hbWUiLCJjb21wYW55X2FkZHJlc3MiLCJjdXN0b21lcl9ncm91cF9pZCIsImhvdXNlX2J1aWxkaW5nIiwiYWRkcmVzcyIsImNvbmZpcm0iLCJvdHAiLCJ2ZXJpZnlCdXR0b24iLCJzaWdudXBfb3RwIiwic2V0VGltZW91dCIsInJvbGUiLCJ5b3Vyc2VsZiIsImpvYl9pZCIsImNvdmVyIiwicmVzZXQiLCJkZXNpZ25hdGlvbiIsImNvbXBhbnkiLCJkZXNjcmlwdGlvbiIsInJlc2V0QnV0dG9uIiwiY2hhbmdlIiwiZmlsdGVyX2NhdGVnb3J5IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZmlsdGVyX3R5cGUiLCJmaWx0ZXJfbG9jYXRpb24iLCJqUXVlcnkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0NBQUEsU0FBQUEsRUFBQUMsRUFBQUMsRUFBQUMsR0FFQSxZQXluQkEsU0FBQUMsS0FFQUMsVUFBQUMsYUFFQUMsUUFBQUMsSUFBQSxHQUVBSCxVQUFBQyxZQUFBRyxtQkFFQUMsRUFJQSxNQU1BQyxvQkFBQSxFQUVBQyxRQUFBLElBRUFDLFdBQUEsTUFNQU4sUUFBQUMsSUFBQSxHQUVBRCxRQUFBQyxJQUFBLGtEQVNBLFFBQUFFLEdBQUFJLEdBQ0FQLFFBQUFDLElBQUEsb0JBQ0FELFFBQUFDLElBQUFNLEdBQ0FkLEVBQUEsUUFBQWUsSUFBQUQsRUFBQUUsT0FBQUMsVUFDQWpCLEVBQUEsUUFBQWUsSUFBQUQsRUFBQUUsT0FBQUUsV0FDQVgsUUFBQUMsSUFBQU0sRUFBQUUsT0FBQUMsVUFDQVYsUUFBQUMsSUFBQU0sRUFBQUUsT0FBQUUsV0FycUJBZCxJQUNBSixFQUFBLFdBRUFBLEVBQUFFLEdBQUFpQixPQUFBLFdBQ0EsR0FBQUMsR0FBQXBCLEVBQUEsYUFDQW9CLEdBQUFD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LEVBQUE1RCxLQUFBLGtCQUNBNEQsRUFBQXRGLFlBQUEsWUFDQXJCLEVBQUEseUJBQUFlLElBQUEsSUFFQXVDLEVBQUEsT0FDQUUsU0FBQUgsU0FDQXpDLFNBQUEsRUFDQUUsU0FBQSxXQUNBeUMsUUFBQUQsRUFBQSxlQUdBRSxTQUFBRyxTQUNBN0MsU0FBQSxXQUNBeUMsUUFBQSw4REFRQXZELEVBQUEsMkJBQUF5QixNQUFBLFNBQUFjLEdBQ0FBLEVBQUFDLGdCQUVBeEMsR0FBQSxzQkFBQWUsTUFDQWYsRUFBQSxxQkFBQWUsTUFDQWYsRUFBQSxpQkFBQWUsTUFDQWYsRUFBQSxpQkFBQWUsTUFDQWYsRUFBQSxnQkFBQWUsTUFDQWYsRUFBQSxvQkFBQWUsTUFDQWYsRUFBQSx3QkFBQWUsTUFDQWYsRUFBQSwwQkFDQSxLQUFBb0YsV0FBQUMsY0FDQTdCLFNBQUFHLFNBQ0E3QyxTQUFBLFdBQ0F5QyxRQUFBLDRCQUdBdkQsRUFBQSw2QkFBQSxHQUFBbUYsbUJBQ0EzQixTQUFBSCxTQUNBdkMsU0FBQSxXQUNBeUMsUUFBQSwrQ0FHQXZELEVBQUEsNkJBQUEsR0FBQXVHLFdBc0NBdkcsRUFBQSxtRUFBQTRHLE9BQUEsV0FFQSxHQUFBM0QsR0FBQSxxQ0FHQTRELEVBQUE3RyxFQUFBLHlCQUFBZSxLQUVBOEYsSUFBQSxvQkFBQUEsSUFDQTVELEdBQUEsb0JBQUE2RCxtQkFBQUQsR0FHQSxJQUFBRSxHQUFBL0csRUFBQSxxQkFBQWUsS0FFQWdHLElBQUEsZ0JBQUFBLElBQ0E5RCxHQUFBLGdCQUFBNkQsbUJBQUFDLEdBR0EsSUFBQUMsR0FBQWhILEVBQUEseUJBQUFlLEtBRUFpRyxJQUFBLG9CQUFBQSxJQUNBL0QsR0FBQSxvQkFBQTZELG1CQUFBRSxJQUVBbEQsU0FBQWIsS0FNQWpELEdBQUEsUUFDQUEsRUFBQSxTQWtEQWlILE9BQUFoSCxPQUFBQyIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgZ2V0TG9jYXRpb25Pbmx5KCk7XHJcbiAgICAkKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBDaGFuZ2UgbmF2YmFyIHN0eWxlIG9uIHNjcm9sbFxyXG4gICAgICAgICQoZG9jdW1lbnQpLnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciAkbmF2ID0gJCgnLmZpeGVkLXRvcCcpO1xyXG4gICAgICAgICAgICAkbmF2LnRvZ2dsZUNsYXNzKCdzY3JvbGxlZCcsICQodGhpcykuc2Nyb2xsVG9wKCkgPiAkbmF2LmhlaWdodCgpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTmF2IGxpbmtzIHNjcm9sbCBhbmltYXRpb25cclxuICAgICAgICAkKCcubmF2LWxpbmssIC5uYXZiYXItYnJhbmQnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uVG8gPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcclxuICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAkKHNlY3Rpb25Ubykub2Zmc2V0KCkudG9wXHJcbiAgICAgICAgICAgIH0sIDcwMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExhbmRpbmcgcGFnZSBzY3JvbGwgYW5pbWF0aW9uc1xyXG4gICAgICAgIFNjcm9sbE91dCgpO1xyXG5cclxuICAgICAgICAvLyBIZXJvIHNlY3Rpb24gYW5pbWF0aW9uXHJcbiAgICAgICAgZ3NhcC50bygnLmFuaW0tZnJvbS10b3AnLCB7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAuNSxcclxuICAgICAgICAgICAgZWFzZTogJ2VsYXN0aWMnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGdzYXAudG8oJy5hbmltLWZyb20tYm90dG9tJywge1xyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICBkdXJhdGlvbjogLjVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ3VzdG9tZXIgTG9naW5cclxuICAgICAgICAkKGRvY3VtZW50KS5kZWxlZ2F0ZSgnI2xvZ2luLWJ1dHRvbicsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGdldExvY2F0aW9uT25seSgpO1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvZ2luQnV0dG9uID0gJCgnI2xvZ2luLWJ1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsb2dpbl9sYXRpdHVkZSA9ICQoJyNsYXQnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbG9naW5fbG9uZ2l0dWRlID0gJCgnI2xuZycpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYWlsID0gJCgnI2xvZ2luLWVtYWlsJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFzc3dvcmQgPSAkKCcjbG9naW4tcGFzc3dvcmQnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZW1haWwubGVuZ3RoID4gMCAmJiBwYXNzd29yZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dpbkJ1dHRvbi50ZXh0KCdQTEVBU0UgV0FJVCcpO1xyXG4gICAgICAgICAgICAgICAgbG9naW5CdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe+KAi+KAi+KAi+KAi+KAi+KAi+KAi+KAiyAgXHJcbiAgICAgICAgICAgICAgICAgICAgdXJsIDogJ2luZGV4LnBocD9wYXRoPWFjY291bnQvbG9naW4vY2hlY2tpcGFkZHJlc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb3N0JyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7ZW1haWw6IGVtYWlsLCBwYXNzd29yZDpwYXNzd29yZH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoanNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhqc29uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoanNvbi5tZXNzYWdlID09ICdVc2VybmFtZSBBbmQgUGFzc3dvcmQgRG9lc3QgTWF0Y2ghJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC5zdWNjZXNzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1VzZXJuYW1lIEFuZCBQYXNzd29yZCBEb2VzdCBNYXRjaCEnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGpzb25bJ2lzbmV3SVAnXSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh74oCL4oCL4oCL4oCL4oCL4oCL4oCL4oCLXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9YWNjb3VudC9sb2dpbi9hZGRTZW5kTmV3SVBvdHAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHvigIvigIvigIvigIvigIvigIvigIvigItlbWFpbDplbWFpbCB94oCL4oCL4oCL4oCL4oCL4oCL4oCL4oCLLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uWydzdGF0dXMnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC5zdWNjZXNzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ09UUCBJcyBTZW50IFRvIE1haWwhJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjbG9naW4tdmlldycpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI290cC12aWV3Jykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ09vcHMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1NvbWV0aGluZyBXZW50IFdyb25nISdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2luZGV4LnBocD9wYXRoPWFjY291bnQvbG9naW4vbG9naW4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb3N0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7ZW1haWw6IGVtYWlsLCBwYXNzd29yZDogcGFzc3dvcmQsIGxvZ2luX2xhdGl0dWRlOmxvZ2luX2xhdGl0dWRlLCBsb2dpbl9sb25naXR1ZGU6bG9naW5fbG9uZ2l0dWRlLCBsb2dpbl9tb2RlOid3ZWInfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25bJ3N0YXR1cyddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25bJ3JlZGlyZWN0J10gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0ganNvblsncmVkaXJlY3QnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGpzb25bJ3RlbXBwYXNzd29yZCddID09ICcxJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gJCgnLmJhc2VfdXJsJykuYXR0cignaHJlZicpICsgJy9jaGFuZ2VwYXNzJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCQoJy5iYXNlX3VybCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gJCgnLmJhc2VfdXJsJykuYXR0cignaHJlZicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0LmVycm9yKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ2Vycm9yX3dhcm5pbmcnXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9naW5CdXR0b24udGV4dCgnTE9HSU4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2luQnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIHlvdXIgZW1haWwgYW5kIHBhc3N3b3JkJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ3VzdG9tZXIgUmVnaXN0cmF0aW9uXHJcblxyXG4gICAgICAgICQoJyNyZWdpc3Rlci1waG9uZScpLmtleXVwKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmICgvXFxEL2cudGVzdCh0aGlzLnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gRmlsdGVyIG91dCBub24tZGlnaXRzIGZyb20gaW5wdXQgdmFsdWVcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnJlcGxhY2UoL1xcRC9nLCAnJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkuZGVsZWdhdGUoJyNyZWdpc3Rlci1idXR0b24nLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBnZXRMb2NhdGlvbk9ubHkoKTtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdmFyIGxvZ2luX2xhdGl0dWRlID0gJCgnI2xhdCcpLnZhbCgpO1xyXG4gICAgICAgICAgICB2YXIgbG9naW5fbG9uZ2l0dWRlID0gJCgnI2xuZycpLnZhbCgpO1xyXG4gICAgICAgICAgICBjb25zdCBmaXJzdE5hbWUgPSAkKCcjcmVnaXN0ZXItZmlyc3QtbmFtZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3ROYW1lID0gJCgnI3JlZ2lzdGVyLWxhc3QtbmFtZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYWlsID0gJCgnI3JlZ2lzdGVyLWVtYWlsJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGhvbmUgPSAkKCcjcmVnaXN0ZXItcGhvbmUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wYW55TmFtZSA9ICQoJyNyZWdpc3Rlci1jb21wYW55LW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wYW55QWRkcmVzcyA9ICQoJyNyZWdpc3Rlci1jb21wYW55LWFkZHJlc3MnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBidXNpbmVzc1R5cGUgPSAkKCcjcmVnaXN0ZXItYnVzaW5lc3MtdHlwZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWxkaW5nTmFtZSA9ICQoJyNyZWdpc3Rlci1idWlsZGluZy1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWRkcmVzc0xpbmUgPSAkKCcjcmVnaXN0ZXItYWRkcmVzcy1saW5lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9jYXRpb24gPSAkKCcjcmVnaXN0ZXItbG9jYXRpb24nKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXNzd29yZCA9ICQoJyNyZWdpc3Rlci1wYXNzd29yZCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkQ29uZmlybWF0aW9uID0gJCgnI3JlZ2lzdGVyLXBhc3N3b3JkLWNvbmZpcm0nKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWdpc3RyYXRpb25WaWV3ID0gJCgnI3JlZ2lzdHJhdGlvbi12aWV3Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3RwVmlldyA9ICQoJyNvdHAtdmlldycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lzdGVyQnV0dG9uID0gJCgnI3JlZ2lzdGVyLWJ1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2lzdGVyRm9ybSA9ICQoJyNyZWdpc3Rlci1mb3JtJylbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybUlzVmFsaWQgPSByZWdpc3RlckZvcm0ucmVwb3J0VmFsaWRpdHkoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybUlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChwYXNzd29yZENvbmZpcm1hdGlvbiAhPT0gcGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdQYXNzd29yZHMgZG8gbm8gbWF0Y2gnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChncmVjYXB0Y2hhLmdldFJlc3BvbnNlKCkgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgY29tcGxldGUgY2FwdGNoYSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJCdXR0b24udGV4dCgnUExFQVNFIFdBSVQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9YWNjb3VudC9yZWdpc3Rlci9yZWdpc3Rlcl9zZW5kX290cCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0bmFtZTogZmlyc3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RuYW1lOiBsYXN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVsZXBob25lOiBwaG9uZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wYW55X25hbWU6IGNvbXBhbnlOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhbnlfYWRkcmVzczogY29tcGFueUFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJfZ3JvdXBfaWQ6IGJ1c2luZXNzVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VzZV9idWlsZGluZzogYnVpbGRpbmdOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3M6IGFkZHJlc3NMaW5lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybTogcGFzc3dvcmRDb25maXJtYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoanNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRleHQoJ1NJR04gVVAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpc3RlckJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25bJ3N0YXR1cyddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0LnN1Y2Nlc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBqc29uWydzdWNjZXNzX21lc3NhZ2UnXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdHJhdGlvblZpZXcuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdHBWaWV3LnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdPb3BzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ2Vycm9yX3dhcm5pbmcnXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBPVFAgVmVyaWZpY2F0aW9uXHJcbiAgICAgICAgJChkb2N1bWVudCkuZGVsZWdhdGUoJyNvdHAtdmVyaWZ5LWJ1dHRvbicsICdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0TmFtZSA9ICQoJyNyZWdpc3Rlci1maXJzdC1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdE5hbWUgPSAkKCcjcmVnaXN0ZXItbGFzdC1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW1haWwgPSAkKCcjcmVnaXN0ZXItZW1haWwnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaG9uZSA9ICQoJyNyZWdpc3Rlci1waG9uZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBhbnlOYW1lID0gJCgnI3JlZ2lzdGVyLWNvbXBhbnktbmFtZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBhbnlBZGRyZXNzID0gJCgnI3JlZ2lzdGVyLWNvbXBhbnktYWRkcmVzcycpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1c2luZXNzVHlwZSA9ICQoJyNyZWdpc3Rlci1idXNpbmVzcy10eXBlJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVpbGRpbmdOYW1lID0gJCgnI3JlZ2lzdGVyLWJ1aWxkaW5nLW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRyZXNzTGluZSA9ICQoJyNyZWdpc3Rlci1hZGRyZXNzLWxpbmUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9ICQoJyNyZWdpc3Rlci1sb2NhdGlvbicpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhc3N3b3JkID0gJCgnI3JlZ2lzdGVyLXBhc3N3b3JkJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFzc3dvcmRDb25maXJtYXRpb24gPSAkKCcjcmVnaXN0ZXItcGFzc3dvcmQtY29uZmlybScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG90cCA9ICQoJyNvdHAtdmFsdWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJpZnlCdXR0b24gPSAkKCcjb3RwLXZlcmlmeS1idXR0b24nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3RwLmxlbmd0aCA+IDMpIHtcclxuICAgICAgICAgICAgICAgIHZlcmlmeUJ1dHRvbi50ZXh0KCdQTEVBU0UgV0FJVCcpO1xyXG4gICAgICAgICAgICAgICAgdmVyaWZ5QnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9YWNjb3VudC9yZWdpc3Rlci9yZWdpc3Rlcl92ZXJpZnlfb3RwJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0bmFtZTogZmlyc3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0bmFtZTogbGFzdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVsZXBob25lOiBwaG9uZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFueV9uYW1lOiBjb21wYW55TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFueV9hZGRyZXNzOiBjb21wYW55QWRkcmVzcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXJfZ3JvdXBfaWQ6IGJ1c2luZXNzVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG91c2VfYnVpbGRpbmc6IGJ1aWxkaW5nTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzc0xpbmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtOiBwYXNzd29yZENvbmZpcm1hdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbnVwX290cDogb3RwXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoanNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlCdXR0b24udGV4dCgnVkVSSUZZJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeUJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI290cC12YWx1ZScpLnZhbCgnJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvblsnc3RhdHVzJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl6aVRvYXN0LnN1Y2Nlc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ3N1Y2Nlc3NfbWVzc2FnZSddXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAkKCcuYmFzZV91cmwnKS5hdHRyKCdocmVmJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1dlIGNvdWxkblxcJ3QgdmVyaWZ5IHlvdXIgYWNjb3VudC4gUGxlYXNlIGNoZWNrIHRoZSBPVFAnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXppVG9hc3QuZXJyb3Ioe1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBPVFAnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIE9UUCBWZXJpZmljYXRpb25cclxuICAgICAgICAkKGRvY3VtZW50KS5kZWxlZ2F0ZSgnI2lwLW90cC12ZXJpZnktYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbWFpbCA9ICQoJyNsb2dpbi1lbWFpbCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG90cCA9ICQoJyNvdHAtdmFsdWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbG9naW5fbGF0aXR1ZGUgPSAkKCcjbGF0JykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvZ2luX2xvbmdpdHVkZSA9ICQoJyNsbmcnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXNzd29yZCA9ICQoJyNsb2dpbi1wYXNzd29yZCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZlcmlmeUJ1dHRvbiA9ICQoJyNvdHAtdmVyaWZ5LWJ1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdHAubGVuZ3RoID4gMykge1xyXG4gICAgICAgICAgICAgICAgdmVyaWZ5QnV0dG9uLnRleHQoJ1BMRUFTRSBXQUlUJyk7XHJcbiAgICAgICAgICAgICAgICB2ZXJpZnlCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICdpbmRleC5waHA/cGF0aD1hY2NvdW50L2xvZ2luL2FkZFZlcmlmeU5ld0lQb3RwJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3RwOiBvdHBcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcmlmeUJ1dHRvbi50ZXh0KCdWRVJJRlknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVyaWZ5QnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjb3RwLXZhbHVlJykudmFsKCcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uWydzdGF0dXMnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Quc3VjY2Vzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1dpbGwgYmUgcmVkaXJlY3RpbmcgdG8gbG9naW4gcGFnZSEnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25bJ3N0YXR1cyddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdpbmRleC5waHA/cGF0aD1hY2NvdW50L2xvZ2luL2xvZ2luJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb3N0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtlbWFpbDogZW1haWwsIHBhc3N3b3JkOiBwYXNzd29yZCwgbG9naW5fbGF0aXR1ZGU6bG9naW5fbGF0aXR1ZGUsIGxvZ2luX2xvbmdpdHVkZTpsb2dpbl9sb25naXR1ZGUsIGxvZ2luX21vZGU6J3dlYid9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvblsnc3RhdHVzJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uWydyZWRpcmVjdCddICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0ganNvblsncmVkaXJlY3QnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoanNvblsndGVtcHBhc3N3b3JkJ10gPT0gJzEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9ICQoJy5iYXNlX3VybCcpLmF0dHIoJ2hyZWYnKSArICcvY2hhbmdlcGFzcyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCQoJy5iYXNlX3VybCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbiA9ICQoJy5iYXNlX3VybCcpLmF0dHIoJ2hyZWYnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZToganNvblsnZXJyb3Jfd2FybmluZyddXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gJCgnLmJhc2VfdXJsJykuYXR0cignaHJlZicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dpbkJ1dHRvbi50ZXh0KCdMT0dJTicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dpbkJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyppZiAoanNvblsncmVkaXJlY3QnXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBqc29uWydyZWRpcmVjdCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoanNvblsndGVtcHBhc3N3b3JkJ10gPT0gJzEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24gPSAkKCcuYmFzZV91cmwnKS5hdHRyKCdocmVmJykgKyAnL2NoYW5nZXBhc3MnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJCgnLmJhc2VfdXJsJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24gPSAkKCcuYmFzZV91cmwnKS5hdHRyKCdocmVmJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSovXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDE1MDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnV2UgY291bGRuXFwndCB2ZXJpZnkgeW91ciBhY2NvdW50LiBQbGVhc2UgY2hlY2sgdGhlIE9UUCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpemlUb2FzdC5lcnJvcih7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciBhIHZhbGlkIE9UUCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLmRlbGVnYXRlKCcjY2FyZWVycy1zdWJtaXQtYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0TmFtZSA9ICQoJyNjYXJlZXJzLWZpcnN0LW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TmFtZSA9ICQoJyNjYXJlZXJzLWxhc3QtbmFtZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvbGUgPSAkKCcjY2FyZWVycy1kZXNpZ25hdGlvbicpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHlvdXJzZWxmID0gJCgnI2NhcmVlcnMtYWJvdXQteW91cnNlbGYnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBqb2JfaWQgPSAkKCcjY2FyZWVycy1qb2ItaWQnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3ZlciA9ICQoJyNjYXJlZXJzLWNvdmVyLWxldHRlcicpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IGN2X3BhdGggPSAkKCcjY2FyZWVycy1jdi1wYXRoJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnaXN0ZXJGb3JtID0gJCgnI2NhcmVlcnMtZm9ybScpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1Jc1ZhbGlkID0gcmVnaXN0ZXJGb3JtLnJlcG9ydFZhbGlkaXR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnaXN0ZXJCdXR0b24gPSAkKCcjY2FyZWVycy1zdWJtaXQtYnV0dG9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1Jc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JlY2FwdGNoYS5nZXRSZXNwb25zZSgpID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGNvbXBsZXRlIGNhcHRjaGEnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRleHQoJ1BMRUFTRSBXQUlUJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9Y29tbW9uL2hvbWUvc2F2ZWNhcmVlcnMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0bmFtZTogZmlyc3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdG5hbWU6IGxhc3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogcm9sZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlvdXJzZWxmOiB5b3Vyc2VsZixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvYl9pZDogam9iX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY292ZXI6IGNvdmVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jdl9wYXRoOiBjdl9wYXRoa1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoanNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvblsnc3RhdHVzJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC5zdWNjZXNzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ3N1Y2Nlc3NfbWVzc2FnZSddXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2NhcmVlcnMtZm9ybScpWzBdLnJlc2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJCdXR0b24udGV4dCgnU1VCTUlUJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT29wcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ2Vycm9yX3dhcm5pbmcnXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkuZGVsZWdhdGUoJyNwYXJ0bmVyLXJlZ2lzdHJhdGlvbi1idXR0b24nLCAnY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3ROYW1lID0gJCgnI3BhcnRuZXItZmlyc3QtbmFtZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3ROYW1lID0gJCgnI3BhcnRuZXItbGFzdC1uYW1lJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzaWduYXRpb24gPSAkKCcjcGFydG5lci1kZXNpZ25hdGlvbicpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBhbnkgPSAkKCcjcGFydG5lci1jb21wYW55LW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbWFpbCA9ICQoJyNwYXJ0bmVyLWVtYWlsJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGhvbmUgPSAkKCcjcGFydG5lci1waG9uZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gJCgnI3BhcnRuZXItZGVzY3JpcHRpb24nKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWdpc3RlckZvcm0gPSAkKCcjcGFydG5lci1yZWdpc3RyYXRpb24tZm9ybScpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1Jc1ZhbGlkID0gcmVnaXN0ZXJGb3JtLnJlcG9ydFZhbGlkaXR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnaXN0ZXJCdXR0b24gPSAkKCcjcGFydG5lci1yZWdpc3RyYXRpb24tYnV0dG9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1Jc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JlY2FwdGNoYS5nZXRSZXNwb25zZSgpID09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGNvbXBsZXRlIGNhcHRjaGEnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyQnV0dG9uLnRleHQoJ1BMRUFTRSBXQUlUJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9Y29tbW9uL2hvbWUvc2F2ZXBhcnRuZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0bmFtZTogZmlyc3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdG5hbWU6IGxhc3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzaWduYXRpb246IGRlc2lnbmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGFueTogY29tcGFueSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob25lOiBwaG9uZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoanNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaXN0ZXJCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvblsnc3RhdHVzJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC5zdWNjZXNzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ3N1Y2Nlc3NfbWVzc2FnZSddXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3BhcnRuZXItcmVnaXN0cmF0aW9uLWZvcm0nKVswXS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnT29wcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25bJ2Vycm9yX3dhcm5pbmcnXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI2ZvcmdvdC1wYXNzd29yZC1idG4nKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAkKCcjbG9naW4tdmlldycpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnI2ZvcmdvdC1wYXNzd29yZC12aWV3Jykuc2hvdygpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI3Bhc3N3b3JkLXJlc2V0LWJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGVtYWlsID0gJCgnI3Jlc2V0LXBhc3N3b3JkLWVtYWlsJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzZXRCdXR0b24gPSAkKCcjcGFzc3dvcmQtcmVzZXQtYnV0dG9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVtYWlsLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpemlUb2FzdC53YXJuaW5nKHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIHlvdXIgYWNjb3VudCBlbWFpbCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzZXRCdXR0b24udGV4dCgnUExFQVNFIFdBSVQnKTtcclxuICAgICAgICAgICAgICAgIHJlc2V0QnV0dG9uLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnaW5kZXgucGhwP3BhdGg9YWNjb3VudC9mb3Jnb3R0ZW4nLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoanNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldEJ1dHRvbi50ZXh0KCdSRVNFVCBQQVNTV09SRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldEJ1dHRvbi50b2dnbGVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3Jlc2V0LXBhc3N3b3JkLWVtYWlsJykudmFsKCcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uWydzdGF0dXMnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Quc3VjY2Vzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZToganNvblsndGV4dF9tZXNzYWdlJ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Qud2FybmluZyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1dlIGNvdWxkblxcJ3QgZmluZCBhbiBhY2NvdW50IHdpdGggdGhhdCBlbWFpbCBhZGRyZXNzJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcjZmFybWVyLXJlZ2lzdGVyLWJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0TmFtZSA9ICQoJyNmYXJtZXItZmlyc3QtbmFtZScpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3ROYW1lID0gJCgnI2Zhcm1lci1sYXN0LW5hbWUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbWFpbCA9ICQoJyNmYXJtZXItZW1haWwnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaG9uZSA9ICQoJyNmYXJtZXItcGhvbmUnKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmYXJtZXJUeXBlID0gJCgnI2Zhcm1lci10eXBlJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFybUxvY2F0aW9uID0gJCgnI2Zhcm1lci1sb2NhdGlvbicpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y2VEZXNjcmlwdGlvbiA9ICQoJ2Zhcm1lci1wcm9kdWNlLWdyb3duJykudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnaXN0ZXJCdXR0b24gPSAkKCcjZmFybWVyLXJlZ2lzdGVyLWJ1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChncmVjYXB0Y2hhLmdldFJlc3BvbnNlKCkgPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgY29tcGxldGUgY2FwdGNoYSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKCQoJyNmYXJtZXItcmVnaXN0cmF0aW9uLWZvcm0nKVswXS5yZXBvcnRWYWxpZGl0eSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXppVG9hc3Quc3VjY2Vzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnVGhhbmtzIGZvciByZWdpc3RlcmluZy4gV2VcXCdsbCBnZXQgaW4gdG91Y2gnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICQoJyNmYXJtZXItcmVnaXN0cmF0aW9uLWZvcm0nKVswXS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyQnV0dG9uLnRleHQoJ1BMRUFTRSBXQUlUJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVnaXN0ZXJCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICB1cmw6ICdpbmRleC5waHA/cGF0aD1hY2NvdW50L2Zhcm1lcnJlZ2lzdGVyL3JlZ2lzdGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICBkYXRhOiB7IFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBuYW1lOiBmaXJzdE5hbWUgKyAnICcgKyBsYXN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0ZWxlcGhvbmU6IHBob25lXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgc3VjY2VzczogZnVuY3Rpb24gKGpzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcmVnaXN0ZXJCdXR0b24udGV4dCgnUkVHSVNURVInKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcmVnaXN0ZXJCdXR0b24udG9nZ2xlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAoanNvblsnc3RhdHVzJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICBpemlUb2FzdC5zdWNjZXNzKHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHBvc2l0aW9uOiAndG9wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbWVzc2FnZToganNvblsnc3VjY2Vzc19tZXNzYWdlJ11cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgJCgnI2Zhcm1lci1yZWdpc3RyYXRpb24tZm9ybScpWzBdLnJlc2V0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgIGl6aVRvYXN0Lndhcm5pbmcoe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgcG9zaXRpb246ICd0b3BSaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0aXRsZTogJ09vcHMnLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbWVzc2FnZTogJ1dlIGNvdWxkblxcJ3QgcmVnaXN0ZXIgeW91LiBQbGVhc2UgdHJ5IGFnYWluJ1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChcIiNjYXJlZXJzLWpvYi1jYXRlZ29yeSwgI2NhcmVlcnMtam9iLXR5cGUsICNjYXJlZXJzLWpvYi1sb2NhdGlvblwiKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIHVybCA9ICdpbmRleC5waHA/cGF0aD1jb21tb24vaG9tZS9jYXJlZXJzJztcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgZmlsdGVyX2NhdGVnb3J5ID0gJCgnI2NhcmVlcnMtam9iLWNhdGVnb3J5JykudmFsKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZmlsdGVyX2NhdGVnb3J5ICYmIGZpbHRlcl9jYXRlZ29yeSAhPSBcIkFsbCBKb2IgQ2F0ZWdvcnlcIikge1xyXG4gICAgICAgICAgICAgICAgdXJsICs9ICcmZmlsdGVyX2NhdGVnb3J5PScgKyBlbmNvZGVVUklDb21wb25lbnQoZmlsdGVyX2NhdGVnb3J5KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGZpbHRlcl90eXBlID0gJCgnI2NhcmVlcnMtam9iLXR5cGUnKS52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmaWx0ZXJfdHlwZSAmJiBmaWx0ZXJfdHlwZSAhPSBcIkFsbCBKb2IgVHlwZVwiKSB7XHJcbiAgICAgICAgICAgICAgICB1cmwgKz0gJyZmaWx0ZXJfdHlwZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbHRlcl90eXBlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGZpbHRlcl9sb2NhdGlvbiA9ICQoJyNjYXJlZXJzLWpvYi1sb2NhdGlvbicpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZpbHRlcl9sb2NhdGlvbiAmJiBmaWx0ZXJfbG9jYXRpb24gIT0gXCJBbGwgSm9iIExvY2F0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgIHVybCArPSAnJmZpbHRlcl9sb2NhdGlvbj0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbHRlcl9sb2NhdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbG9jYXRpb24gPSB1cmw7XHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIFxyXG4gICAgdmFyIGxhdCA9ICQoXCIjbGF0XCIpO1xyXG4gICAgdmFyIGxuZyA9ICQoXCIjbG5nXCIpO1xyXG5cclxuICAgICAgICAgZnVuY3Rpb24gZ2V0TG9jYXRpb25Pbmx5KCkge1xyXG4gICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7ICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1Bvc2l0aW9uT25seSwgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFcnJvciBmdW5jdGlvblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwvL3Nob3dFcnJvciwgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPcHRpb25zLiBTZWUgTUROIGZvciBkZXRhaWxzLlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogNTAwMCxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKDIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiR2VvbG9jYXRpb24gaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXIuXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgIC8qbGF0LmlubmVySFRNTCA9ICAgMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICBsbmcuaW5uZXJIVE1MID0gMDsqL1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgfVxyXG4gICAgICAgICBcclxuICAgICAgICAgZnVuY3Rpb24gc2hvd1Bvc2l0aW9uT25seShwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgY29uc29sZS5sb2coJ3Nob3dQb3NpdGlvbk9ubHknKTtcclxuICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICQoXCIjbGF0XCIpLnZhbChwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUpO1xyXG4gICAgICAgICAgICAgJChcIiNsbmdcIikudmFsKHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpO1xyXG4gICAgICAgICAgICAgY29uc29sZS5sb2cocG9zaXRpb24uY29vcmRzLmxhdGl0dWRlKTtcclxuICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGUpO1xyXG4gICAgICAgICB9XHJcblxyXG59KShqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG4iXX0=
